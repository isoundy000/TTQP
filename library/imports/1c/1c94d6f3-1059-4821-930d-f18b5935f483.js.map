{"version":3,"sources":["../../../../../../assets/Script/jajaleScript/manageList/assets/Script/jajaleScript/manageList/cancelManageScript.js"],"names":["cc","Class","extends","Component","properties","hintLab","Label","onLoad","onfire","on","jajaleCancelManageMessage","bind","node","Node","EventType","TOUCH_END","event","active","setHintText","str","string","onCloseCancelManage","onSureOrCancelHandle","customData","scn","socket","send","data","jajale","enterRoomData","roomType","isManage","console","log"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,iBAASL,GAAGM;;AAFJ,KAHP;;AASL;;AAEAC,UAXK,oBAWK;;AAGN;AACAC,eAAOC,EAAP,CAAU,2BAAV,EAAuC,KAAKC,yBAAL,CAA+BC,IAA/B,CAAoC,IAApC,CAAvC;;AAEA,aAAKC,IAAL,CAAUH,EAAV,CAAaT,GAAGa,IAAH,CAAQC,SAAR,CAAkBC,SAA/B,EAA0C,UAASC,KAAT,EAAgB;AAAE,iBAAKJ,IAAL,CAAUK,MAAV,GAAmB,KAAnB;AAA2B,SAAvF,EAAyF,IAAzF;AAGH,KApBI;;AAqBLC,iBAAa,qBAASC,GAAT,EAAc;AACvB;AACA,aAAKd,OAAL,CAAae,MAAb,GAAsBD,GAAtB;AACH,KAxBI;AAyBL;;;AAGAE,yBAAqB,+BAAW;AAC5B,aAAKT,IAAL,CAAUK,MAAV,GAAmB,KAAnB;AACH,KA9BI;AA+BL;;;AAGAK,0BAAsB,8BAASN,KAAT,EAAgBO,UAAhB,EAA4B;AAC9C,YAAIA,eAAe,MAAnB,EAA2B;AACvB;AACAvB,eAAGwB,GAAH,CAAOC,MAAP,CAAcC,IAAd,CAAmB,MAAnB;AACH,SAHD,MAGO,IAAIH,eAAe,QAAnB,EAA6B;AAChC,iBAAKX,IAAL,CAAUK,MAAV,GAAmB,KAAnB;AACH;AACJ,KAzCI;;AA4CL;;;AAGAP,+BAA2B,mCAASiB,IAAT,EAAe;AACtC;AACA3B,WAAGwB,GAAH,CAAOC,MAAP,CAAcC,IAAd,CAAmB,MAAnB,EAA0B,EAAC,YAAY1B,GAAG4B,MAAH,CAAUC,aAAV,CAAwBC,QAArC,EAA1B;;AAEA,aAAKlB,IAAL,CAAUK,MAAV,GAAmB,KAAnB;;AAEA,YAAIjB,GAAG4B,MAAH,CAAUC,aAAV,CAAwBE,QAA5B,EAAsC;AAClCC,oBAAQC,GAAR,CAAY,eAAZ;AACH,SAFD,MAEM;AACFD,oBAAQC,GAAR,CAAY,UAAZ;AACH;AAEJ;;AA3DI,CAAT","file":"cancelManageScript.js","sourceRoot":"../../../../../../assets/Script/jajaleScript/manageList","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // \n        hintLab: cc.Label,      \n              \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        \n        // 取消当家\n        onfire.on('jajaleCancelManageMessage', this.jajaleCancelManageMessage.bind(this));\n        \n        this.node.on(cc.Node.EventType.TOUCH_END, function(event) { this.node.active = false; }, this);\n\n        \n    },\n    setHintText: function(str) {\n        // var str = cc.jajale.enterRoomData.isManage ? '您确定要取消当家状态吗？':'您确定要取消当家申请吗？';\n        this.hintLab.string = str;\n    },\n    /**\n     * 关闭窗口\n     */\n    onCloseCancelManage: function() {\n        this.node.active = false;\n    },\n    /**\n     * 确定、取消\n     */\n    onSureOrCancelHandle: function(event, customData) {\n        if (customData === 'sure') {\n            // 取消申请当家\n            cc.scn.socket.send(112211);\n        } else if (customData === 'cancel') {\n            this.node.active = false;\n        } \n    },\n\n    \n    /**\n     * 取消申请当家排队 回调\n     */\n    jajaleCancelManageMessage: function(data) {\n        // 获取当家列表 roomType:(int) 是1百家厅，2是朋友厅\n        cc.scn.socket.send(112208,{'roomType': cc.jajale.enterRoomData.roomType});\n\n        this.node.active = false;\n\n        if (cc.jajale.enterRoomData.isManage) {\n            console.log('牌局结束后取消您的当家状态');\n        }else {\n            console.log('取消申请当家成功');\n        }\n        \n    },\n\n});\n"]}