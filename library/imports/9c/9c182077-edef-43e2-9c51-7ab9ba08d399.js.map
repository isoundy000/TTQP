{"version":3,"sources":["../../../../../../assets/Script/jajaleScript/combat/assets/Script/jajaleScript/combat/jajaleDeskScript.js"],"names":["socket","require","cc","Class","extends","Component","properties","landlordCard1","Node","landlordCard2","farmerCard1","farmerCard2","landlordShowCard1","landlordShowCard2","landlordShowCard3","farmerShowCard1","farmerShowCard2","farmerShowCard3","goldContainer","countdownBox","countdownNum1","Sprite","countdownNum2","withBtn","Button","farmerChipBtn","farmerPairBtn","landlordChipBtn","landlordPairBtn","trendBox","questionBox","manageLab","Label","cardTypeNode1","cardTypeNode2","cardTypeIcons","default","type","SpriteFrame","cardNode","backMenu","backSelectBG1","backSelectBG2","jajaleInterval","onLoad","animationContainer","getComponent","configureData","onfire","on","sitdownMessage","bind","jajaleSendCardStateMessage","jajaleBetMessage","jajaleOpenCardStateMessage","jajaleClearingMessage","jajaleGameStateMessage","jajaleSelectPlayerTwistMessage","jajaleManagePlayeryMessage","jajaleOnlineNumMessage","jajaleLookOnMessage","jajaleTrendMessage","showCardObj","betBtnInteractable","string","jajale","enterRoomData","nickname","console","log","countdown","status","countdownHandle","playerStatus","sendList","cards","dealed","setTimeout","jajaleAOpenCardStateHandle","jajaleBOpenCardStateHandle","llc","createBrandSpriteFrame","fc","onBackAndMallHandle","event","customData","active","onbackMenuHandle","self","scn","send","onclose","connect","data","params","ttqp_global","currentUserData","token","currentUserInfo","roleId","clearInterval","director","loadScene","onCloseBackMenuHandle","onTopHandle","onBottomHandle","betIndex","betChipNum","play","nd","num","createBrand","dealHandle","deal1","nextDeal","deal2","move","moveTo","p","runAction","callFunc","deal3","deal4","node","func","anim","Animation","dealEnd","children","detainBtnState","detainEffect","t","tmps","String","split","length","file","loader","loadRes","SpriteAtlas","err","atlas","frame1","getSpriteFrame","spriteFrame","frame2","interval","setInterval","s","interactable","openType","cardType","fightEffect","jajaleReadyStateHandle","jajaleBetStateHandle","jajaleDealStateHandle","jajaleClearStateHandle","initCard","setOpenCardOverHook","card","openCrad","bossId","initTrend","VSEffect","beginEffect"],"mappings":"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","file":"jajaleDeskScript.js","sourceRoot":"../../../../../../assets/Script/jajaleScript/combat","sourcesContent":["var socket = require(\"websocketScript\");\n/**\n * 家家乐牌桌\n */\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 发牌动画 1 \n        landlordCard1: cc.Node,\n        // 发牌动画 2\n        landlordCard2: cc.Node,\n        // 发牌动画 3\n        farmerCard1: cc.Node,\n        // 发牌动画 4\n        farmerCard2: cc.Node,\n        // 显示牌  地主1\n        landlordShowCard1: cc.Node,\n        // 显示牌  地主2\n        landlordShowCard2: cc.Node,\n        // 显示牌  地主3\n        landlordShowCard3: cc.Node,\n        // 显示牌  农民1\n        farmerShowCard1: cc.Node,\n        // 显示牌  农民2\n        farmerShowCard2: cc.Node,\n        // 显示牌  农民3\n        farmerShowCard3: cc.Node,\n\n        // 金币动画 容器\n        goldContainer: cc.Node,\n\n        // 倒计时框\n        countdownBox: cc.Node,\n        // 倒计时 数字1\n        countdownNum1: cc.Sprite,\n        // 倒计时 数字2\n        countdownNum2: cc.Sprite,\n\n        // 押注 直赢按钮\n        withBtn: cc.Button,\n        // 押注 农民1：1按钮\n        farmerChipBtn: cc.Button,\n        // 押注 农民对子按钮\n        farmerPairBtn: cc.Button,\n        // 押注 地主1：1按钮\n        landlordChipBtn: cc.Button,\n        // 押注 地主对子按钮\n        landlordPairBtn: cc.Button,\n\n        // 走势图层\n        trendBox: cc.Node,\n        // 玩法说明层\n        questionBox: cc.Node,\n\n        // 当家昵称\n        manageLab: cc.Label,\n\n        // 散牌1\n        cardTypeNode1: cc.Sprite,\n        // 散牌2\n        cardTypeNode2: cc.Sprite,\n        // 开牌的牌型\n        cardTypeIcons: {\n            default: [],\n            type: cc.SpriteFrame\n        },\n        \n        // 搓牌节点\n        cardNode: cc.Node,\n\n        // 返回下拉菜单\n        backMenu: cc.Node,\n        // \n        backSelectBG1: cc.Node,\n        backSelectBG2: cc.Node,\n\n        // 计时器\n        jajaleInterval: null,\n        \n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n   \n\n        this.animationContainer = this.goldContainer.getComponent('jajaleGoldContainerScript');\n       \n        this.configureData();\n\n        // 坐下\n        onfire.on('sitdownMessage',this.sitdownMessage.bind(this));\n        // 发牌\n        onfire.on('jajaleSendCardStateMessage',this.jajaleSendCardStateMessage.bind(this));\n        // 下注\n        onfire.on('jajaleBetMessage',this.jajaleBetMessage.bind(this));\n        // 下发开牌\n        onfire.on('jajaleOpenCardStateMessage',this.jajaleOpenCardStateMessage.bind(this));\n        // 结算\n        onfire.on('jajaleClearingMessage',this.jajaleClearingMessage.bind(this));\n        // 状态改变\n        onfire.on('jajaleGameStateMessage',this.jajaleGameStateMessage.bind(this));\n        // 选择玩家搓牌\n        onfire.on('jajaleSelectPlayerTwistMessage',this.jajaleSelectPlayerTwistMessage.bind(this));   \n        // 当家玩家\n        onfire.on('jajaleManagePlayeryMessage',this.jajaleManagePlayeryMessage.bind(this));\n        // 在线人数\n        onfire.on('jajaleOnlineNumMessage',this.jajaleOnlineNumMessage.bind(this));\n        // 站起旁观\n        onfire.on('jajaleLookOnMessage',this.jajaleLookOnMessage.bind(this));\n        // 走势图\n        onfire.on('jajaleTrendMessage',this.jajaleTrendMessage.bind(this));\n       \n        \n    },\n    /**\n     * 配置数据\n     */\n    configureData: function() {\n\n\n        // 存放 开牌的牌数\n        this.showCardObj = {};\n\n        // 下注状态\n        this.betBtnInteractable = false;\n        this.manageLab.string = cc.jajale.enterRoomData.nickname;\n\n        console.log(cc.jajale.enterRoomData.countdown,'倒计时时间',cc.jajale.enterRoomData.status);\n        if (cc.jajale.enterRoomData.status === 2 && cc.jajale.enterRoomData.countdown > 0) {\n            console.log('初始状态：倒计时');\n            this.countdownHandle();\n        }\n\n        // 3已发牌\n        if (cc.jajale.enterRoomData.playerStatus === 3) {\n\n            this.showCardObj = {\n                'llc' : cc.jajale.enterRoomData.sendList[0].cards,\n                'fc' : cc.jajale.enterRoomData.sendList[1].cards\n            }\n\n            if (cc.jajale.enterRoomData.status === 3) {\n                console.log('初始状态：3已发牌，3发牌');\n                this.dealed();\n\n            }else if (cc.jajale.enterRoomData.status === 4) {\n                console.log('初始状态：3已发牌，4A开牌');\n                this.dealed();\n\n                setTimeout(() => {\n                    // A 开牌\n                    this.jajaleAOpenCardStateHandle();\n                }, 0);\n                \n            }else if (cc.jajale.enterRoomData.status === 5) {\n                console.log('初始状态：3已发牌，5B开牌');\n                this.dealed();\n\n                setTimeout(() => {\n                    // B 开牌\n                    this.jajaleBOpenCardStateHandle();\n                }, 0);\n                \n            }\n            \n        }\n\n        // 6 A已开牌\n        if (cc.jajale.enterRoomData.playerStatus === 6) {\n            \n            // 4 A开牌\n            if (cc.jajale.enterRoomData.status === 4) {\n\n                // 显示A三张牌，B两张，B准备开牌\n                console.log('初始状态：6 A已开牌,4 A开牌');\n            }\n            // 5 B开牌\n            if (cc.jajale.enterRoomData.status === 5) {\n\n                // 显示A三张牌，B两张，B正在开牌\n                console.log('初始状态：6 A已开牌,5 B开牌');\n            }\n        }\n\n        // 7 B已开牌\n        if (cc.jajale.enterRoomData.playerStatus === 7) {\n            // 4 A开牌\n            if (cc.jajale.enterRoomData.status === 4) {\n\n                // 显示B三张牌，A两张，A正在开牌\n                console.log('初始状态：7 B已开牌,4 A开牌');\n            }\n            // 5 B开牌\n            if (cc.jajale.enterRoomData.status === 5) {\n\n                // 显示B三张牌，A两张，A准备开牌\n                console.log('初始状态：7 B已开牌,5 B开牌');\n            }\n        }\n\n        // 8.A和B已开牌\n        if (cc.jajale.enterRoomData.playerStatus === 8) {\n            console.log('初始状态：8.A和B已开牌');\n            var llc = cc.jajale.enterRoomData.sendList[0];\n            this.createBrandSpriteFrame(this.landlordShowCard1, llc.cards[0]);\n            this.createBrandSpriteFrame(this.landlordShowCard2, llc.cards[1]);\n            var fc = cc.jajale.enterRoomData.sendList[1];\n            this.createBrandSpriteFrame(this.farmerShowCard1, fc.cards[0]);\n            this.createBrandSpriteFrame(this.farmerShowCard2, fc.cards[1]);\n        }\n        \n    },\n    /**\n     * 返回、商城 按钮操作\n     */\n    onBackAndMallHandle: function(event, customData) {\n        switch (customData) {\n            case 'back':\n                this.backSelectBG1.active = false;\n                this.backSelectBG2.active = false;\n                this.backMenu.active = true;\n                break;\n            case 'mall':\n\n                break;\n            default:\n                break;\n        }\n    },\n    /**\n     * 返回大厅、站起旁观 按钮操作\n     */\n    onbackMenuHandle: function(event, customData) {\n        console.log(123,customData);\n        var self = this;\n        switch (customData) {\n            case 'FHDT':\n                this.backSelectBG1.active = true;\n                \n                // 这里 有是否坐下状态的需求 ！！！！\n                //  如果在座位状态，就返回到游戏大厅，在返回大厅后，游戏大厅会显示游戏进行中列表，列表中会显示在进行中的家家乐游戏图标，点击家家乐图标后会返回到在进行的游戏房间中\n\n                // 家家乐返回大厅\n                cc.scn.socket.send(110102);\n\n                // 110102 家家乐返回大厅 成功回调\n                onfire.on(\"jajaleBackLobbyMessage\", function() {\n\n                    // 断开 游戏的服务器  连接 大厅的服务器\n                    cc.scn.socket.socket.onclose();\n                    cc.scn.socket.socket = {};\n                    cc.scn.socket = socket.connect('home');\n                    // 大厅服务器连接成功\n                    onfire.on(\"socketOpen\", function(data) {\n                        // 返回大厅\n                        if (data === 'home') {\n                            let params = {\n                                \"token\": ttqp_global.currentUserData.token,\n                                \"roleId\": ttqp_global.currentUserInfo.roleId\n                            };\n                            cc.scn.socket.send(9001,params);\n                        }\n                        \n                    });\n                });\n\n                // 9001 返回大厅成功 \n                onfire.on(\"backLobbyMessage\", function() {\n                    \n                    console.log('返回大厅成功');\n                    clearInterval(self.jajaleInterval);\n                    self.jajaleInterval = null;\n                    cc.jajale.enterRoomData.countdown = 0;\n                    \n                    cc.director.loadScene('Home');\n                });\n                break;\n            case 'ZQPG':\n                \n                cc.scn.socket.send(112216);\n                break;\n            default:\n                break;\n        }\n    },\n    /**\n     * 关闭返回菜单 操作\n     */\n    onCloseBackMenuHandle: function(event, customData) {\n        this.backMenu.active = false;\n    },\n    /**\n     * 走势图、问题 按钮操作\n     */\n    onTopHandle: function(event, customData) {\n        console.log(123,customData);\n        \n        switch (customData) {\n            case '走势图':\n                cc.scn.socket.send(112214);\n                break;\n            case '问题':\n\n                this.questionBox.active = true;\n                break;\n            default:\n                break;\n        }\n    },\n    /**\n     * 底部操作按钮\n     */\n    onBottomHandle: function(event, customData) {\n        console.log(123,customData);\n\n\n\n        // 下注索引\n        var betIndex;\n        switch (customData) {\n            case '直赢':\n                betIndex = 5;\n                break;\n            case '地主一比一':\n                betIndex = 1;\n                break;\n            case '地主对子':\n                betIndex = 3;\n                break;\n            case '农民一比一':\n                betIndex = 2;\n                break;\n            case '农民对子':\n                betIndex = 4;\n                break;\n            default:\n                break;\n        }\n        // var num = Math.floor(Math.random()*(8-0+1)+0);\n        // let  userIdx = 8; \n        // this.animationContainer.creatorBetAnimationGoldNode(betIndex, userIdx);\n\n        // 押注\n        console.log('下注金额：',cc.jajale.enterRoomData.betChipNum);\n        if (cc.jajale.play) {\n            cc.scn.socket.send(112301, { 'betType': betIndex, 'betGold': cc.jajale.enterRoomData.betChipNum });\n        }\n        \n    },\n    /**\n     * 创建 牌\n     */\n    createBrandSpriteFrame: function(nd, num) {\n        nd.getComponent('jajaleBrandScript').createBrand(num);  \n    },\n    /**\n     * 发牌\n     */\n    dealHandle: function() {        \n        this.deal1();\n    },\n    deal1() {\n\n        this.nextDeal(this.landlordCard1, this.deal2);\n        \n    },\n    deal2: function() {\n        \n        this.landlordShowCard1.active = true;\n        // 移回动画起始点\n        var move = cc.moveTo(0,cc.p(0, 647.5));\n        // 执行动画，并添加回调函数\n        this.landlordCard1.runAction(move, cc.callFunc(this.nextDeal(this.farmerCard1, this.deal3)));\n\n    },\n    deal3: function() {\n\n        this.farmerShowCard1.active = true;\n        var move = cc.moveTo(0,cc.p(0, 647.5));\n        this.farmerCard1.runAction(move, cc.callFunc(this.nextDeal(this.landlordCard2, this.deal4)));\n\n    },\n    deal4: function() {\n        this.landlordShowCard2.active = true;\n        var move = cc.moveTo(0,cc.p(0, 647.5));\n        // this.landlordCard2.runAction(move, cc.callFunc(this.nextDeal(this.farmerCard2, this.dealEnd)));\n        this.landlordCard2.runAction(move, cc.callFunc(this.nextDeal(this.farmerCard2, function() {\n            this.farmerShowCard2.active = true;\n            var move = cc.moveTo(0,cc.p(0, 647.5));\n            this.farmerCard2.runAction(move);\n        })));\n\n    },\n    /**\n     * 继续执行发牌动画\n     */\n    nextDeal: function(node, func) {\n        node.active = true;\n        var anim = node.getComponent(cc.Animation);\n        if (func != null) {\n            anim.on('finished', func, this);\n        }\n        anim.play();\n    },\n    /**\n     * 发牌结束(弃用)\n     */\n    dealEnd: function() {\n        // 发牌结束后\n        // 判断是否直赢。是直赢就结束对比，执行赢家动画；不是就选择玩家搓牌，做搓牌动画\n\n        // this.farmerShowCard2.active = true;\n        // var move = cc.moveTo(0,cc.p(0, 647.5));\n        // this.farmerCard2.runAction(move);\n\n        // 在这之前 需要加入 搓牌逻辑\n        setTimeout(() => {\n            this.createBrandSpriteFrame(this.landlordShowCard3.children[0], 3);\n            this.landlordShowCard3.active = true;\n            var anim = this.landlordShowCard3.getComponent(cc.Animation);\n            anim.play();\n            setTimeout(() => {\n                this.createBrandSpriteFrame(this.farmerShowCard3.children[0], 49);\n                this.farmerShowCard3.active = true;\n                var anim = this.farmerShowCard3.getComponent(cc.Animation);\n                anim.play();\n            }, 1000);\n        }, 1000);\n    },\n    /**\n     * 倒计时\n     */\n    countdownHandle: function() {\n\n        // 开启押注按钮的点击事件\n        if (this.betBtnInteractable) {\n            this.detainBtnState(true);\n        }\n \n        var self = this;\n\n        // 开启押注特效\n        this.animationContainer.detainEffect(true);\n        \n        var t = cc.jajale.enterRoomData.countdown;\n\n        // 以字符串的形式截取到数组中\n        var tmps = String(t).split('');\n\n        if (tmps.length < 2) {\n            self.countdownNum2.node.active = false;\n        }\n        \n        \n        var file = \"textures/jajale/combat/bottom/jajale-numtext\";\n        cc.loader.loadRes(file, cc.SpriteAtlas, function (err, atlas) {\n            // console.log(atlas, err);\n            var frame1 = atlas.getSpriteFrame('jajale-num' + tmps[0]);\n            self.countdownNum1.spriteFrame = frame1;\n\n            var frame2 = atlas.getSpriteFrame('jajale-num' + tmps[1]);\n            self.countdownNum2.spriteFrame = frame2;\n        });\n\n        this.countdownBox.active = true;\n\n        var interval = setInterval(function() {\n\n            t--;\n\n            tmps = String(t).split('');\n\n            if (tmps.length < 2) {\n                self.countdownNum2.node.active = false;\n            }\n            \n            \n            var file = \"textures/jajale/combat/bottom/jajale-numtext\";\n            cc.loader.loadRes(file, cc.SpriteAtlas, function (err, atlas) {\n                // console.log(atlas, err);\n                var frame1 = atlas.getSpriteFrame('jajale-num' + tmps[0]);\n                self.countdownNum1.spriteFrame = frame1;\n\n                var frame2 = atlas.getSpriteFrame('jajale-num' + tmps[1]);\n                self.countdownNum2.spriteFrame = frame2;\n            });\n            \n            if(t == 0) {\n                console.log('押注结束');\n                clearInterval(interval);\n                self.countdownBox.active = false;\n                self.countdownNum2.node.active = true;\n                // 停止押注特效\n                self.animationContainer.detainEffect(false);\n                // 禁止押注按钮的点击事件\n                self.detainBtnState(false);\n\n\n                // 押注结束\n                // cc.jajale.state.fsm.betHandle();\n\n            }\n            \n            \n        }, 1000);\n\n        this.jajaleInterval = interval;\n    },\n    /**\n     * 押注 按钮状态\n     */\n    detainBtnState: function(s) {\n        this.withBtn.interactable = s;\n        this.landlordChipBtn.interactable = s;\n        this.landlordPairBtn.interactable = s;\n        this.farmerChipBtn.interactable = s;\n        this.farmerPairBtn.interactable = s;\n\n    },\n    /**\n     * 坐下 回调\n     */\n    sitdownMessage: function() {\n\n        this.betBtnInteractable = true;\n\n        if (cc.jajale.enterRoomData.status === 2) {\n            this.detainBtnState(true);\n        }\n        cc.jajale.play = true;\n    },\n    /**\n     * 发牌 回调\n     */\n    jajaleSendCardStateMessage: function(data) {\n        // console.log('发牌',data);\n\n        this.dealHandle();\n        // 地主牌\n        var llc = data.sendList[0];\n        // 发牌 动画牌面\n        this.createBrandSpriteFrame(this.landlordCard1.children[0], llc.cards[0]);\n        this.createBrandSpriteFrame(this.landlordCard2.children[0], llc.cards[1]);\n        // 发牌 显示牌面\n        this.createBrandSpriteFrame(this.landlordShowCard1, llc.cards[0]);\n        this.createBrandSpriteFrame(this.landlordShowCard2, llc.cards[1]);\n\n        \n        // 农民牌\n        var fc = data.sendList[1];\n\n        this.createBrandSpriteFrame(this.farmerCard1.children[0], fc.cards[0]);\n        this.createBrandSpriteFrame(this.farmerCard2.children[0], fc.cards[1]);\n\n        this.createBrandSpriteFrame(this.farmerShowCard1, fc.cards[0]);\n        this.createBrandSpriteFrame(this.farmerShowCard2, fc.cards[1]);\n\n\n        // \n        this.showCardObj = {\n            'llc' : llc.cards,\n            'fc' : fc.cards\n        }\n\n    },\n    /**\n     * 下注 回调\n     */\n    jajaleBetMessage: function() {\n        console.log('下注成功');\n    },\n    /**\n     * 下发开牌 回调 \n     */\n    jajaleOpenCardStateMessage: function(data) {\n\n        if (data.openType === 1) {\n            // 地主 开牌后的牌型\n            this.cardTypeNode1.node.active = true;\n            this.cardTypeNode1.spriteFrame = this.cardTypeIcons[data.cardType - 1];\n        }else {\n            this.cardTypeNode2.node.active = true;\n            this.cardTypeNode2.spriteFrame = this.cardTypeIcons[data.cardType - 1];\n        }\n    },\n    /**\n     * 结算 回调 \n     */\n    jajaleClearingMessage: function(data) {\n        console.log(data);\n        // 打斗\n        this.animationContainer.fightEffect(data);\n    },\n    /**\n     * 状态改变 回调 \n     */\n    jajaleGameStateMessage: function(data) {\n        console.log(data.status, '游戏状态发生改变22');\n        \n        switch (data.status) {\n            case 1:\n                // 等待准备\n                this.jajaleReadyStateHandle();\n                break;\n            case 2:\n                // 下注\n                this.jajaleBetStateHandle();\n                break;\n            case 3:\n                // 发牌\n                this.jajaleDealStateHandle();\n                break;\n            case 4:\n                // A开牌\n                this.jajaleAOpenCardStateHandle();\n                break;\n            case 5:\n                // B开牌\n                this.jajaleBOpenCardStateHandle();\n                break;\n            case 6:\n                // 结算\n                this.jajaleClearStateHandle();\n                break;\n        \n            default:\n                break;\n        }\n    }, \n    /**\n     * 选择玩家搓牌 回调 \n     */\n    jajaleSelectPlayerTwistMessage: function(data) {\n        console.log('选择玩家搓牌 回调 ',data);\n        console.log(data.nickname + '玩家代表搓牌');\n\n        // this.jajaleTwist(obj,nd);\n        var self = this;\n        \n        var llc = this.showCardObj.llc;\n        if (llc.length === 3) {\n            \n            this.cardNode.active = true;\n            this.cardNode.getComponent('cardMove').initCard(llc[2] - 1);\n\n            // 已经搓牌回调\n            this.cardNode.getComponent('cardMove').setOpenCardOverHook(function(card) {\n\n                setTimeout(() => {\n                \n                    self.cardNode.active = false;\n                    card.active = false;\n\n                    setTimeout(() => {\n                        self.createBrandSpriteFrame(self.landlordShowCard3.children[0], llc[2]);\n                        self.landlordShowCard3.active = true;\n                        var anim = self.landlordShowCard3.getComponent(cc.Animation);\n                        anim.play();\n                    }, 500);\n\n                }, 1000);\n            \n            });\n\n            // 如果不是搓牌代表 就直接开牌\n            setTimeout(() => {\n                this.cardNode.getComponent('cardMove').openCrad();\n            }, 1000);\n        \n        }\n        \n    },\n    /**\n     * 当家玩家 回调 \n     */\n    jajaleManagePlayeryMessage: function(data) {\n        console.log('当家玩家 回调 ',data);\n        cc.jajale.enterRoomData.nickname = data.nickname;\n        cc.jajale.enterRoomData.bossId = data.bossId;\n        this.manageLab.string = cc.jajale.enterRoomData.nickname;\n    },\n    /**\n     * 在线人数 回调 \n     */\n    jajaleOnlineNumMessage: function(data) {\n        console.log('在线人数 回调 ',data);\n    },\n    /**\n     * 站起旁观 回调 \n     */\n    jajaleLookOnMessage: function(data) {\n        console.log('站起旁观 回调 ',data);\n        this.backSelectBG2.active = true;\n        this.backMenu.active = false;\n        cc.jajale.play = false;\n    },\n    /**\n     * 走势图 回调 \n     */\n    jajaleTrendMessage: function(data) {\n        console.log('走势图 回调 ',data);\n        this.trendBox.active = true; \n        this.trendBox.getComponent('trendScript').initTrend(data);           \n        // cc.jajale.trendData = data;\n    },\n\n\n\n\n\n    // 等待\n    jajaleReadyStateHandle: function() {\n        console.log('等待回调');\n    },\n\n    // 状态机 下注\n    jajaleBetStateHandle: function() {\n        console.log('下注');\n        this.animationContainer.VSEffect();\n        this.countdownHandle();\n    },\n    // 状态机 发牌\n    jajaleDealStateHandle: function() {\n        console.log('发牌');\n        // 开始\n        this.animationContainer.beginEffect();\n    },\n    // 状态机 A开牌\n    jajaleAOpenCardStateHandle: function() {\n        console.log('A开牌');\n\n        var self = this;\n        \n        var llc = this.showCardObj.llc;\n        if (llc.length === 3) {\n            \n            this.cardNode.active = true;\n            this.cardNode.getComponent('cardMove').initCard(llc[2] - 1);\n\n            // 已经搓牌回调\n            this.cardNode.getComponent('cardMove').setOpenCardOverHook(function(card) {\n\n                setTimeout(() => {\n                \n                    self.cardNode.active = false;\n                    card.active = false;\n\n                    setTimeout(() => {\n                        self.createBrandSpriteFrame(self.landlordShowCard3.children[0], llc[2]);\n                        self.landlordShowCard3.active = true;\n                        var anim = self.landlordShowCard3.getComponent(cc.Animation);\n                        anim.play();\n                    }, 500);\n\n                }, 1000);\n            \n            });\n\n            // 如果不是搓牌代表 就直接开牌\n            setTimeout(() => {\n                this.cardNode.getComponent('cardMove').openCrad();\n            }, 1000);\n        \n        }\n\n        \n\n\n\n        \n\n        \n    },\n    // 状态机 B开牌\n    jajaleBOpenCardStateHandle: function() {\n        console.log('B开牌');\n\n        var self = this;\n\n        var fc = this.showCardObj.fc;\n        if (fc.length === 3) {\n            \n            this.cardNode.active = true;\n            this.cardNode.getComponent('cardMove').initCard(fc[2] - 1);\n\n            // 已经搓牌回调\n            this.cardNode.getComponent('cardMove').setOpenCardOverHook(function(card) {\n\n                setTimeout(() => {\n                \n                    self.cardNode.active = false;\n                    card.active = false;\n\n                    setTimeout(() => {\n                        self.createBrandSpriteFrame(self.farmerShowCard3.children[0], fc[2]);\n                        self.farmerShowCard3.active = true;\n                        var anim = self.farmerShowCard3.getComponent(cc.Animation);\n                        anim.play();\n                    }, 500);\n\n                }, 1000);\n            \n            });\n\n            // 如果不是搓牌代表 就直接开牌\n            setTimeout(() => {\n                this.cardNode.getComponent('cardMove').openCrad();\n            }, 1000);\n        }\n\n    },\n    // 状态机 结算\n    jajaleClearStateHandle: function() {\n        console.log('结算');\n        \n\n        setTimeout(() => {\n            // 隐藏牌\n            this.landlordShowCard1.active = false;\n            this.landlordShowCard2.active = false;\n            this.landlordShowCard3.active = false;\n            this.farmerShowCard1.active = false;\n            this.farmerShowCard2.active = false;\n            this.farmerShowCard3.active = false;\n            // 隐藏牌类型\n            this.cardTypeNode1.node.active = false;\n            this.cardTypeNode2.node.active = false;\n        }, 5500);\n    },\n\n\n    /**\n     * 进入房间 初始化 各种状态\n     */\n    // 已发牌\n    dealed: function() {\n\n        var llc = this.showCardObj.llc;\n        var fc = this.showCardObj.fc;\n        // 设置牌点数\n        this.createBrandSpriteFrame(this.landlordShowCard1, llc[0]);\n        this.createBrandSpriteFrame(this.landlordShowCard2, llc[1]);\n        this.createBrandSpriteFrame(this.farmerShowCard1, fc[0]);\n        this.createBrandSpriteFrame(this.farmerShowCard2, fc[1]);\n\n        setTimeout(() => {\n            this.landlordShowCard1.active = true;\n            this.landlordShowCard2.active = true;\n            this.farmerShowCard1.active = true;\n            this.farmerShowCard2.active = true;\n        }, 0);\n    },\n});\n"]}