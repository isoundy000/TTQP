{"version":3,"sources":["../../../../../assets/Script/mallScript/assets/Script/mallScript/goldItemScript.js"],"names":["cc","Class","extends","Component","properties","item_speaker","Sprite","item_detail_text","Label","item_give_text","item_price","item_buy_type","init","dict","tag","self","file","loader","loadRes","SpriteAtlas","err","atlas","frame","getSpriteFrame","spriteFrame","string","items","onBuyAction","ev","Event","EventCustom","setUserData","node","dispatchEvent"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,sBAAcL,GAAGM,MAFT;AAGR;AACAC,0BAAkBP,GAAGQ,KAJb;AAKR;AACAC,wBAAgBT,GAAGQ,KANX;AAOR;AACAE,oBAAYV,GAAGQ,KARP;AASR;AACAG,uBAAeX,GAAGM;AAVV,KAHP;;AAgBLM,UAAM,cAAUC,IAAV,EAAgBC,GAAhB,EAAqB;AACvB;AACA;AACA;;AAEA;AACA,YAAIC,OAAO,IAAX;AACA,YAAIC,OAAOF,OAAO,MAAP,GAAgB,iCAAhB,GAAoDA,OAAO,MAAP,GAAgB,kCAAhB,GAAqD,yBAApH;AACAd,WAAGiB,MAAH,CAAUC,OAAV,CAAkBF,IAAlB,EAAwBhB,GAAGmB,WAA3B,EAAwC,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC1D,gBAAIC,QAAQD,MAAME,cAAN,CAAqBV,KAAK,MAAL,CAArB,CAAZ;AACAE,iBAAKV,YAAL,CAAkBmB,WAAlB,GAAgCF,KAAhC;AACH,SAHD;;AAMA,aAAKf,gBAAL,CAAsBkB,MAAtB,GAA+BZ,KAAK,QAAL,CAA/B;;AAEA,aAAKJ,cAAL,CAAoBgB,MAApB,GAA6BZ,KAAK,MAAL,CAA7B;;AAEA,aAAKH,UAAL,CAAgBe,MAAhB,GAAyBZ,KAAK,OAAL,CAAzB;;AAEA,aAAKa,KAAL,GAAab,IAAb;AACA,aAAKa,KAAL,CAAW,KAAX,IAAoBZ,GAApB;AACH,KAtCI;;AAwCLa,iBAAa,uBAAW;AACpB;AACA,YAAIC,KAAK,IAAI5B,GAAG6B,KAAH,CAASC,WAAb,CAAyB,aAAzB,EAAuC,IAAvC,CAAT;AACA;AACAF,WAAGG,WAAH,CAAe,CAAC,KAAKL,KAAN,CAAf;;AAEA,aAAKM,IAAL,CAAUC,aAAV,CAAwBL,EAAxB;AAEH;AAhDI,CAAT","file":"goldItemScript.js","sourceRoot":"../../../../../assets/Script/mallScript","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 图标\n        item_speaker: cc.Sprite,\n        // 说明\n        item_detail_text: cc.Label,\n        // 赠送\n        item_give_text: cc.Label,\n        // 价格\n        item_price: cc.Label,\n        // 购买类型 是钻石还是人民币\n        item_buy_type: cc.Sprite,\n    },\n\n    init: function (dict, tag) {\n        // 动态加载 spriteFrame 需要将资源放在 resources 目录下\n        // var iUrl = tag == \"1001\" ? \"resources/textures/Global_imgs/RMB_icon.png\" : \"resources/textures/Global_imgs/Diamond_icon.png\";\n        // this.item_buy_type.spriteFrame = new cc.SpriteFrame(cc.url.raw(iUrl));\n        \n        // 动态加载图集\n        var self = this;\n        var file = tag == \"1001\" ? \"textures/mall/mall-zuanshi-icon\" : tag == \"1002\" ? \"textures/Global_imgs/global_imgs\" : \"textures/mall/mall-icon\";\n        cc.loader.loadRes(file, cc.SpriteAtlas, function (err, atlas) {\n            var frame = atlas.getSpriteFrame(dict[\"icon\"]);\n            self.item_speaker.spriteFrame = frame;\n        });\n        \n                \n        this.item_detail_text.string = dict[\"detail\"];\n\n        this.item_give_text.string = dict[\"give\"];\n\n        this.item_price.string = dict[\"price\"];\n\n        this.items = dict;\n        this.items[\"tag\"] = tag;\n    },\n\n    onBuyAction: function() {\n        // 冒泡会从事件发起节点不断向上传递给他的父级节点，知道根节点或者在某个节点的响应函数中做了中断处理 event.stopPropagation()\n        var ev = new cc.Event.EventCustom(\"onBuyAction\",true);\n        // 设置用户数据\n        ev.setUserData([this.items]);\n\n        this.node.dispatchEvent(ev);\n        \n    }\n});\n"]}