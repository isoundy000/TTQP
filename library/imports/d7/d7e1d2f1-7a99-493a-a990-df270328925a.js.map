{"version":3,"sources":["../../../../../../assets/Script/HomeScript/HomePersonInfoView/assets/Script/HomeScript/HomePersonInfoView/HomeAddPhoneView.js"],"names":["cc","Class","extends","Component","properties","contentView","Node","phoneEditBox","EditBox","onLoad","onfire","on","onAddPhoneHandle","bind","onShowView","isShow","callback","node","active","string","scaleAmin1","scaleTo","scaleAmin2","runAction","sequence","scaleAmin","addPhoneRequest","phone","scn","socket","send","data","onBindBtnClick","event","length","console","log","onCloseBtnClick"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAaL,GAAGM,IADR;AAERC,sBAAcP,GAAGQ;AAFT,KAHP;;AAQLC,UARK,oBAQI;AACLC,eAAOC,EAAP,CAAU,qBAAV,EAAiC,KAAKC,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAjC;AACH,KAVI;;;AAYL;;;;;AAKAC,cAjBK,sBAiBMC,MAjBN,EAiBcC,QAjBd,EAiBwB;AACzB,aAAKA,QAAL,GAAgBA,QAAhB;AACA,aAAKC,IAAL,CAAUC,MAAV,GAAmBH,MAAnB;;AAEA,YAAIA,MAAJ,EAAY;AACR,iBAAKR,YAAL,CAAkBY,MAAlB,GAA2B,EAA3B;;AAEA,gBAAIC,aAAapB,GAAGqB,OAAH,CAAW,QAAX,EAAqB,GAArB,EAA0B,GAA1B,CAAjB;AACA,gBAAIC,aAAatB,GAAGqB,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAjB;AACA,iBAAKhB,WAAL,CAAiBkB,SAAjB,CAA2BvB,GAAGwB,QAAH,CAAYJ,UAAZ,EAAwBE,UAAxB,CAA3B;AACH,SAND,MAMO;AACH,gBAAIG,YAAYzB,GAAGqB,OAAH,CAAW,QAAX,EAAqB,GAArB,EAA0B,GAA1B,CAAhB;AACA,iBAAKhB,WAAL,CAAiBkB,SAAjB,CAA2BE,SAA3B;AACH;AACJ,KA/BI;;;AAiCL;AACAC,mBAlCK,2BAkCWC,KAlCX,EAkCkB;AACnB3B,WAAG4B,GAAH,CAAOC,MAAP,CAAcC,IAAd,CAAmB,KAAnB,EAA0B;AACtB,qBAASH;AADa,SAA1B;AAGH,KAtCI;;;AAwCL;AACAf,oBAzCK,4BAyCYmB,IAzCZ,EAyCkB;AACnB,YAAI,KAAKf,QAAT,EAAmB;AACf,iBAAKA,QAAL,CAAc,KAAKT,YAAL,CAAkBY,MAAhC;AACA,iBAAKL,UAAL,CAAgB,KAAhB;AACH;AACJ,KA9CI;AAgDLkB,kBAhDK,0BAgDUC,KAhDV,EAgDiB;AAClB,YAAIN,QAAQ,KAAKpB,YAAL,CAAkBY,MAAlB,GAA2B,KAAKZ,YAAL,CAAkBY,MAA7C,GAAsD,EAAlE;AACA,YAAIQ,MAAMO,MAAN,IAAgB,EAApB,EAAwB;AACpBC,oBAAQC,GAAR,CAAY,WAAZ;AACH,SAFD,MAEO;AACH,iBAAKV,eAAL,CAAqBC,KAArB;AACH;AACJ,KAvDI;AAyDLU,mBAzDK,2BAyDWJ,KAzDX,EAyDkB;AACnB,aAAKnB,UAAL,CAAgB,KAAhB,EAAuB,KAAKE,QAA5B;AACH;AA3DI,CAAT","file":"HomeAddPhoneView.js","sourceRoot":"../../../../../../assets/Script/HomeScript/HomePersonInfoView","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        contentView: cc.Node,\n        phoneEditBox: cc.EditBox,\n    },\n\n    onLoad() {\n        onfire.on(\"HomeBindPhoneHandle\", this.onAddPhoneHandle.bind(this));\n    },\n\n    /**\n     * 弹出/关闭 窗口\n     * @param {是否弹出} isShow      \n     * @param {回调函数，在点击使用的时候回调} callback \n     */\n    onShowView(isShow, callback) {\n        this.callback = callback;\n        this.node.active = isShow;\n        \n        if (isShow) {\n            this.phoneEditBox.string = \"\";\n\n            var scaleAmin1 = cc.scaleTo(0.000001, 0.8, 0.8);\n            var scaleAmin2 = cc.scaleTo(0.2, 1, 1);\n            this.contentView.runAction(cc.sequence(scaleAmin1, scaleAmin2));\n        } else {\n            var scaleAmin = cc.scaleTo(0.000001, 0.8, 0.8);\n            this.contentView.runAction(scaleAmin);\n        }\n    },\n\n    /****************************  本类接口相关  *************************/\n    addPhoneRequest(phone) {\n        cc.scn.socket.send(10402, {\n            \"phone\": phone\n        });\n    },\n\n    /*********************** 本类接口回调相关  **********************/\n    onAddPhoneHandle(data) {\n        if (this.callback) {\n            this.callback(this.phoneEditBox.string);\n            this.onShowView(false);\n        }\n    },\n    \n    onBindBtnClick(event) {\n        let phone = this.phoneEditBox.string ? this.phoneEditBox.string : \"\";\n        if (phone.length != 11) {\n            console.log(\"请输入正确的手机号\");\n        } else {\n            this.addPhoneRequest(phone);\n        }\n    },\n\n    onCloseBtnClick(event) {\n        this.onShowView(false, this.callback);\n    },\n});\n"]}