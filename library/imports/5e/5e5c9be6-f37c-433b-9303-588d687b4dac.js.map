{"version":3,"sources":["../../../../../assets/Script/jajaleScript/assets/Script/jajaleScript/jajaleCarryGoldScript.js"],"names":["cc","Class","extends","Component","properties","editBox","EditBox","editText","goldLabel","Label","onLoad","node","on","Node","EventType","TOUCH_END","event","active","onCloseJajaleCarryGold","onSureOrCancelHandle","customData","scn","socket","send","onSetGoldHandle","tmp","parseInt","console","log","string","ttqp_global","unitConversion","onTextChanged","text","onEditDidBegan","onEditDidEnded"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAERC,iBAASL,GAAGM,OAFJ;AAGRC,kBAAU,KAHF;AAIRC,mBAAWR,GAAGS;AAJN,KAHP;;AAUL;;AAEAC,UAZK,oBAYK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAaZ,GAAGa,IAAH,CAAQC,SAAR,CAAkBC,SAA/B,EAA0C,UAASC,KAAT,EAAgB;AAAE,iBAAKL,IAAL,CAAUM,MAAV,GAAmB,KAAnB;AAA2B,SAAvF,EAAyF,IAAzF;AACH,KAdI;;AAeL;;;AAGAC,4BAAwB,kCAAW;AAC/B,aAAKP,IAAL,CAAUM,MAAV,GAAmB,KAAnB;AACH,KApBI;AAqBL;;;AAGAE,0BAAsB,8BAASH,KAAT,EAAgBI,UAAhB,EAA4B;AAC9C,YAAIA,eAAe,MAAnB,EAA2B;AACvB;AACApB,eAAGqB,GAAH,CAAOC,MAAP,CAAcC,IAAd,CAAmB,MAAnB,EAA2B,EAAC,QAAQ,KAAKhB,QAAd,EAA3B;AACH,SAHD,MAGO,IAAIa,eAAe,QAAnB,EAA6B;AAChC,iBAAKT,IAAL,CAAUM,MAAV,GAAmB,KAAnB;AACH;AACJ,KA/BI;AAgCL;;;AAGAO,qBAAiB,yBAASR,KAAT,EAAgBI,UAAhB,EAA4B;;AAEzC,YAAIK,MAAMC,SAAS,KAAKnB,QAAd,CAAV;AACA,gBAAQa,UAAR;AACI,iBAAK,QAAL;AACI,qBAAKb,QAAL,GAAgBkB,MAAM,KAAtB;AACA;AACJ,iBAAK,QAAL;AACI,oBAAI,KAAKlB,QAAL,IAAiB,KAArB,EAA4B;AACxBoB,4BAAQC,GAAR,CAAY,WAAZ;AACA;AACH;AACD,qBAAKrB,QAAL,GAAgBkB,MAAM,KAAtB;AACA,qBAAKlB,QAAL,GAAgB,KAAKA,QAAL,GAAgB,KAAhB,GAAwB,KAAxB,GAAgC,KAAKA,QAArD;;AAEA;AACJ;AACI;AAdR;AAgBAoB,gBAAQC,GAAR,CAAY,KAAKrB,QAAjB;AACA,aAAKC,SAAL,CAAeqB,MAAf,GAAwBC,YAAYC,cAAZ,CAA2B,KAAKxB,QAAhC,CAAxB;AACH,KAxDI;AAyDL;;;AAGAyB,mBAAe,uBAASC,IAAT,EAAejB,KAAf,EAAsBI,UAAtB,EAAkC;AAC7C,aAAKb,QAAL,GAAgB0B,IAAhB;AAEH,KA/DI;AAgELC,oBAAgB,0BAAW;AACvB,aAAK1B,SAAL,CAAeqB,MAAf,GAAwB,EAAxB;AACH,KAlEI;AAmELM,oBAAgB,0BAAW;AACvBR,gBAAQC,GAAR,CAAY,KAAKrB,QAAjB;AACA,aAAKF,OAAL,CAAawB,MAAb,GAAsB,EAAtB;AACA,aAAKrB,SAAL,CAAeqB,MAAf,GAAwBC,YAAYC,cAAZ,CAA2B,KAAKxB,QAAhC,CAAxB;AACH;AAvEI,CAAT","file":"jajaleCarryGoldScript.js","sourceRoot":"../../../../../assets/Script/jajaleScript","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        editBox: cc.EditBox,\n        editText: 10000,\n        goldLabel: cc.Label,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.node.on(cc.Node.EventType.TOUCH_END, function(event) { this.node.active = false; }, this);\n    },\n    /**\n     * 关闭窗口\n     */\n    onCloseJajaleCarryGold: function() {\n        this.node.active = false;\n    },\n    /**\n     * 确定、取消\n     */\n    onSureOrCancelHandle: function(event, customData) {\n        if (customData === 'sure') {\n            // cc.scn.socket.send(112212,{'message': this.editText});\n            cc.scn.socket.send(112215, {'gold': this.editText});\n        } else if (customData === 'cancel') {\n            this.node.active = false;\n        } \n    },\n    /**\n     * 加 减\n     */\n    onSetGoldHandle: function(event, customData) {\n          \n        var tmp = parseInt(this.editText);\n        switch (customData) {\n            case 'addBtn':\n                this.editText = tmp + 10000;\n                break;\n            case 'subBtn':\n                if (this.editText <= 10000) {\n                    console.log('已经是最低携带金币');\n                    return;\n                }\n                this.editText = tmp - 10000;\n                this.editText = this.editText < 10000 ? 10000 : this.editText;\n                \n                break;\n            default:\n                break;\n        }\n        console.log(this.editText);\n        this.goldLabel.string = ttqp_global.unitConversion(this.editText);\n    },\n    /**\n     * 输入喊话内容 监听\n     */\n    onTextChanged: function(text, event, customData) {\n        this.editText = text;\n        \n    },\n    onEditDidBegan: function() {\n        this.goldLabel.string = '';\n    },\n    onEditDidEnded: function() {\n        console.log(this.editText);\n        this.editBox.string = '';\n        this.goldLabel.string = ttqp_global.unitConversion(this.editText);\n    }\n});\n"]}