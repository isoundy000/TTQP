{"version":3,"sources":["../../../../../../assets/Script/jajaleScript/trend/assets/Script/jajaleScript/trend/trendScript.js"],"names":["cc","Class","extends","Component","properties","scrollViewItem","Prefab","scrollView1","ScrollView","scrollView1Content","Node","scrollView2","scrollView2Content","curGameNum","Label","winANum","winBNum","winPairANum","winPairBNum","winDrawNum","onLoad","node","on","EventType","TOUCH_END","event","active","initTrend","data","string","list","winLoseList","index","length","item","instantiate","addChild","getComponent","createItemSpriteFrame","test1","test2","push","l","indexOf","tmp","tmpArr","idx","splice","i","onCloseTrendBox"],"mappings":"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","file":"trendScript.js","sourceRoot":"../../../../../../assets/Script/jajaleScript/trend","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 走势图 item\n        scrollViewItem: cc.Prefab,\n        // \n        scrollView1: cc.ScrollView,\n        // \n        scrollView1Content: cc.Node,\n        // \n        scrollView2: cc.ScrollView,\n        // \n        scrollView2Content: cc.Node,\n        // 第几局\n        curGameNum: cc.Label,\n        // A队的赢数量\n        winANum: cc.Label,\n        // B队的赢数量\n        winBNum: cc.Label,\n        // A对子的赢数量\n        winPairANum: cc.Label,\n        // B对方的赢数量\n        winPairBNum: cc.Label,\n        // 和的赢数量\n        winDrawNum: cc.Label,\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        this.node.on(cc.Node.EventType.TOUCH_END, function(event) { this.node.active = false; }, this);\n    },\n    initTrend: function(data) {\n        this.curGameNum.string = data.curGameNum;\n        this.winANum.string = data.winANum;\n        this.winBNum.string = data.winBNum;\n        this.winPairANum.string = data.winPairANum;\n        this.winPairBNum.string = data.winPairBNum;\n        this.winDrawNum.string = data.winDrawNum;\n\n        // 走势1\n        var list = data.winLoseList;\n        \n        for (let index = 0; index < list.length; index++) {\n            var item = cc.instantiate(this.scrollViewItem);\n            this.scrollView1Content.addChild(item);\n            item.getComponent('trendItemScript').createItemSpriteFrame(list[index]);\n        }\n\n        // 走势2\n        var test1 = list;\n        var test2 = [];\n        // 这里先将数据分组\n        for (let index = 0; index < test1.length; index++) {\n            if (test2.length === 0) {\n                test2[0] = [];\n                test2[0].push(test1[0]);\n            }else {\n                var l = test2.length;\n                if (test2[l - 1].indexOf(test1[index]) != -1) {\n                    test2[l - 1].push(test1[index]);\n                    \n                }else {\n                    test2[l] = [];\n                    test2[l].push(test1[index]);\n                }\n                \n            }\n        }\n        // 这里将分组数据在组合，小于5补满5，大于5填充\n        for (let index = 0; index < test2.length; index++) {\n            if (test2[index].length <= 5) {\n               test2[index].length = 5;\n                \n            }else {\n                var tmp = test2[index].length - 5;\n                \n                var tmpArr = test2[index];\n                for (let idx = 0; idx < tmp; idx++) {\n                    tmpArr.splice((idx + 1)*5,0,0,0,0,0);\n                    \n                }\n            }\n        }\n        for (let index = 0; index < test2.length; index++) {\n            for (let i = 0; i < test2[index].length; i++) {\n                var item = cc.instantiate(this.scrollViewItem);\n                this.scrollView2Content.addChild(item);\n                item.getComponent('trendItemScript').createItemSpriteFrame(test2[index][i]);\n            }\n            \n        }\n    },\n     /**\n     * 关闭弹窗\n     */\n    onCloseTrendBox: function() {\n        this.node.active = false;\n    }\n\n});\n"]}