{"version":3,"sources":["jajaleGoldContainerScript.js"],"names":["jajaleState","require","cc","Class","extends","Component","properties","userHead","Node","otherHead1","otherHead2","otherHead3","otherHead4","otherHead5","otherHead6","otherHead7","otherHead8","withBox","farmerChipBox","farmerPairBox","landlordChipBox","landlordPairBox","farmerChipTotalBetGold","farmerPairTotalBetGold","landlordChipTotalBetGold","landlordPairTotalBetGold","withTotalBetGold","farmerChipUserTotalBetGold","farmerPairUserTotalBetGold","landlordChipUserTotalBetGold","landlordPairUserTotalBetGold","withUserTotalBetGold","jajaleEffect10","jajaleEffect11","jajaleEffect20","jajaleEffect21","jajaleEffect30","jajaleEffect31","jajaleEffect32","jajaleEffect33","jajaleEffect34","jajaleEffect40","jajaleEffect41","jajaleEffect42","jajaleEffect43","jajaleEffect44","jajaleEffect45","jajaleEffect46","jajaleEffect50","jajaleEffect51","jajaleEffect60","jajaleEffect61","roleIdArr","aWinAnimationGold","aPairWinAnimationGold","bWinAnimationGold","bPairWinAnimationGold","withWinAnimationGold","onLoad","headNodes","console","log","jajale","enterRoomData","fighterList","configurePlayer","onfire","on","jajaleOtherBetStateMessage","bind","jajaleRefreshPlayerListMessage","length","idx","nd","other","lab","children","getComponent","Label","gold","ttqp_global","unitConversion","string","push","roleId","currentUserInfo","data","betIdx","indexOf","totalBetGold","creatorBetAnimationGoldNode","index","tmpNode","totalGold","userTotalGold","betGoldSum","tmp","betType","showGoldLabel","sp","addComponent","Sprite","spriteFrame","SpriteFrame","url","raw","node","addChild","setPosition","_position","move","moveTo","randomTerminal","x","y","runAction","creatorWinAnimationGoldNode","obj","winStr","setTimeout","forEach","destroy","addGoldLab","color","Color","upMove","p","maxX","minX","nodeX","Math","floor","random","maxY","minY","nodeY","destroyGoldNode","node1","node2","total1","total2","active","hideGoldLabel","VSEffect","Animation","play","stop","detainEffect","state","beginEffect","fightEffect","winType","winEffect","key","accountList","hasOwnProperty","accAGold","accBGold","accPairAGold","accPairBGold","accDrawGold","aPairWin","bPairWin","dirWin"],"mappings":"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","file":"jajaleGoldContainerScript.js","sourceRoot":"../../../../../../assets/Script/jajaleScript/combat","sourcesContent":["\nvar jajaleState = require(\"jajaleState\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 用户头像层\n        userHead: cc.Node,\n        // 玩家头像层1\n        otherHead1: cc.Node,\n        // 玩家头像层2\n        otherHead2: cc.Node,\n        // 玩家头像层3\n        otherHead3: cc.Node,\n        // 玩家头像层4\n        otherHead4: cc.Node,\n        // 玩家头像层5\n        otherHead5: cc.Node,\n        // 玩家头像层6\n        otherHead6: cc.Node,\n        // 玩家头像层7\n        otherHead7: cc.Node,\n        // 玩家头像层8\n        otherHead8: cc.Node,\n        // 金币 直赢层\n        withBox: cc.Node,\n        // 金币 农民1：1层\n        farmerChipBox: cc.Node,\n        // 金币 农民对子层\n        farmerPairBox: cc.Node,\n        // 金币 地主1：1层\n        landlordChipBox: cc.Node,\n        // 金币 地主对子层\n        landlordPairBox: cc.Node,\n\n        // 下注显示金币总和 农民1：1层\n        farmerChipTotalBetGold: cc.Node,\n        // 下注显示金币总和 农民对子层\n        farmerPairTotalBetGold: cc.Node,\n        // 下注显示金币总和 地主1：1层\n        landlordChipTotalBetGold: cc.Node, \n        // 下注显示金币总和 地主对子层\n        landlordPairTotalBetGold: cc.Node,\n        // 下注显示金币总和 直赢层\n        withTotalBetGold: cc.Node,\n        \n        // 当前用户下注显示金币总和 农民1：1层\n        farmerChipUserTotalBetGold: cc.Node,\n        // 当前用户下注显示金币总和 农民对子层\n        farmerPairUserTotalBetGold: cc.Node,\n        // 当前用户下注显示金币总和 地主1：1层\n        landlordChipUserTotalBetGold: cc.Node, \n        // 当前用户下注显示金币总和 地主对子层\n        landlordPairUserTotalBetGold: cc.Node,\n        // 当前用户下注显示金币总和 直赢层\n        withUserTotalBetGold: cc.Node,\n\n        /**\n         * 特效\n         */\n\n        // 散牌 左 -> 右\n        jajaleEffect10: cc.Node,\n        jajaleEffect11: cc.Node,\n        // 发牌框 左 -> 右\n        jajaleEffect20: cc.Node,\n        jajaleEffect21: cc.Node,\n        // 押注区 直赢 -> 地主1：1 -> 地主对子 -> 农民对子 -> 农民1：1\n        jajaleEffect30: cc.Node,\n        jajaleEffect31: cc.Node,\n        jajaleEffect32: cc.Node,\n        jajaleEffect33: cc.Node,\n        jajaleEffect34: cc.Node,\n        // 赢  文字\n        jajaleEffect40: cc.Node,\n        jajaleEffect41: cc.Node,\n        // 赢  标志  直赢 -> 地主1：1 -> 地主对子 -> 农民对子 -> 农民1：1\n        jajaleEffect42: cc.Node,\n        jajaleEffect43: cc.Node,\n        jajaleEffect44: cc.Node,\n        jajaleEffect45: cc.Node,\n        jajaleEffect46: cc.Node,\n        // 开始 VS -> 开始\n        jajaleEffect50: cc.Node,\n        jajaleEffect51: cc.Node,\n        // 打斗 地主打 -> 农民打\n        jajaleEffect60: cc.Node,\n        jajaleEffect61: cc.Node,\n\n        // 这个数组用来做玩家下注的\n        roleIdArr: [],\n        // A 赢的玩家 用来做赢家金币动画\n        aWinAnimationGold: [],\n        // A对子 赢的玩家\n        aPairWinAnimationGold: [],\n        // B 赢的玩家\n        bWinAnimationGold: [],\n        // B对子 赢的玩家\n        bPairWinAnimationGold: [],\n        // 直赢 赢的玩家\n        withWinAnimationGold: [],\n\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        \n        \n\n        this.headNodes = [this.otherHead1,this.otherHead2,this.otherHead3,this.otherHead4,this.otherHead5,this.otherHead6,this.otherHead7,this.otherHead8,this.userHead];\n        console.log(cc.jajale.enterRoomData.fighterList, '显示游戏界面的玩家列表');\n\n\n        \n        // this.roleIdArr = [];\n\n        this.configurePlayer();\n        \n        // 下注 S -> C\n        onfire.on('jajaleOtherBetStateMessage',this.jajaleOtherBetStateMessage.bind(this));\n        // 刷新玩家列表\n        onfire.on('jajaleRefreshPlayerListMessage',this.jajaleRefreshPlayerListMessage.bind(this));\n    },\n    /**\n     * 配置玩家信息\n     */\n    configurePlayer: function() {\n\n        // 清空数组\n        this.roleIdArr = [];\n\n        if (cc.jajale.enterRoomData.fighterList.length > 0) {\n            for (let idx =  0; idx < cc.jajale.enterRoomData.fighterList.length; idx++) {\n                var nd = this.headNodes[idx];\n                var other = cc.jajale.enterRoomData.fighterList[idx];\n                \n                var lab = nd.children[1].children[0].getComponent(cc.Label);\n                \n                // var gold = other.gold > 10000 ? (other.gold / 10000).toFixed(1) + '万' : other.gold;\n                var gold = ttqp_global.unitConversion(other.gold);\n                lab.string = gold;\n                // 这里图片有跨越问题\n                // nd.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(cc.url.raw(other.headimgurl));\n                // if (other.headimgurl.length) {\n                //     cc.loader.load(other.headimgurl, function (err, texture) {\n                //         console.log(other.headimgurl,err,texture);\n                //         nd.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\n                //     });\n                // }\n                this.roleIdArr.push(other.roleId);\n    \n                if (idx === 7 && this.roleIdArr.length === 8) {\n                    this.roleIdArr.push(ttqp_global.currentUserInfo.roleId);\n                }\n            }\n        }\n\n        \n    },\n    // 单位转换\n    // unitConversion: function(gold) {\n    //     return gold > 10000 ? (gold / 10000).toFixed(1) + '万' : gold;\n    // },\n\n\n    /**\n     * 下注 S -> C 回调\n     */\n    jajaleOtherBetStateMessage: function(data) {\n        \n        var betIdx = this.roleIdArr.indexOf(data.roleId);\n        console.log(cc.jajale.enterRoomData.fighterList.length,this.roleIdArr,data.roleId,'下注',betIdx,data.totalBetGold);\n        this.creatorBetAnimationGoldNode(data, betIdx);\n        \n    },\n    /**\n     * 刷新玩家列表 回调\n     */\n    jajaleRefreshPlayerListMessage: function(data) {\n        console.log('刷新玩家列表 回调',data);\n\n        cc.jajale.enterRoomData.fighterList = data.fighterList;\n        this.configurePlayer();\n    },\n\n\n\n\n    /**\n     * 下注动画金币节点\n     */\n    creatorBetAnimationGoldNode: function(data, index) {\n\n        // 动画的起始节点\n        var tmpNode = this.headNodes[index];\n        \n        // 全部下注总和\n        var totalGold = ttqp_global.unitConversion(data.totalBetGold);\n        // 自己下注总和\n        var userTotalGold = ttqp_global.unitConversion(data.betGoldSum);\n\n        var tmp;\n        if (data.betType === 5) {\n            // 直赢\n            tmp = this.withBox;\n\n            this.showGoldLabel(this.withTotalBetGold, this.withUserTotalBetGold, totalGold, userTotalGold, index);\n\n        }\n        else if (data.betType === 1) {\n            // 地主1：1\n            tmp = this.landlordChipBox;\n\n            this.showGoldLabel(this.landlordChipTotalBetGold, this.landlordChipUserTotalBetGold, totalGold, userTotalGold, index);\n\n        }\n        else if (data.betType === 3) {\n            // 地主对子\n            tmp = this.landlordPairBox;\n\n            this.showGoldLabel(this.landlordPairTotalBetGold, this.landlordPairUserTotalBetGold, totalGold, userTotalGold, index);\n\n        }\n        else if (data.betType === 2) {\n            // 农民1：1\n            tmp = this.farmerChipBox;\n\n            this.showGoldLabel(this.farmerChipTotalBetGold, this.farmerChipUserTotalBetGold, totalGold, userTotalGold, index);\n\n        }\n        else if (data.betType === 4) {\n            // 农民对子\n            tmp = this.farmerPairBox;\n\n            this.showGoldLabel(this.farmerPairTotalBetGold, this.farmerPairUserTotalBetGold, totalGold, userTotalGold, index);\n\n        }\n\n        var gold = new cc.Node('animaitonGold1');\n        var sp = gold.addComponent(cc.Sprite);\n        sp.spriteFrame = new cc.SpriteFrame(cc.url.raw(\"resources/textures/Global_imgs/jinbi.png\"));\n        this.node.addChild(gold);\n        gold.setPosition(tmpNode._position);\n        var move = cc.moveTo(0.6, this.randomTerminal(tmp.x,tmp.y));\n        gold.runAction(move);\n        \n\n    },\n    creatorWinAnimationGoldNode: function(nd, obj, winStr) {\n        \n        var index = this.roleIdArr.indexOf(obj.roleId);\n        console.log(obj[winStr],index,this.roleIdArr,obj.roleId);\n        // 动画结束节点\n        var tmpNode = this.headNodes[index];\n        \n        var gold = new cc.Node('animaitonGold2');\n        var sp = gold.addComponent(cc.Sprite);\n        sp.spriteFrame = new cc.SpriteFrame(cc.url.raw(\"resources/textures/Global_imgs/jinbi.png\"));\n        this.node.addChild(gold);\n        gold.setPosition(this.randomTerminal(nd.x,nd.y));\n        var move = cc.moveTo(0.6, tmpNode._position);\n        gold.runAction(move);\n        \n\n\n        setTimeout(() => {\n            if (this.node.children.length > 0) {\n                this.node.children.forEach(obj => {\n                    if (obj['name'] === 'animaitonGold2') {\n                        obj.destroy();\n                    }\n                });\n            }\n            \n\n            // +金币 上升动画\n            var addGoldLab = new cc.Node('addGoldLab');\n            var lab = addGoldLab.addComponent(cc.Label);\n            addGoldLab.color = new cc.Color(255, 235, 4);\n            lab.string = '+' + ttqp_global.unitConversion(obj[winStr]);\n            this.node.addChild(addGoldLab);\n            addGoldLab.setPosition(tmpNode._position);\n            var upMove = cc.moveTo(0.5, cc.p(tmpNode._position.x,tmpNode._position.y + 60));\n            addGoldLab.runAction(upMove);\n\n            setTimeout(() => {\n                if (this.node.children.length > 0) {\n                    this.node.children.forEach(obj => {\n                        if (obj['name'] === 'addGoldLab') {\n                            obj.destroy();\n                        }\n                    });\n                }     \n            }, 550);\n\n        }, 600);\n    },\n    /**\n     * 随机动画终点\n     * position: 随机范围\n     * Math.floor(Math.random()*(max-min+1)+min);\n     */\n    randomTerminal: function(x, y) {\n       \n        var maxX = x + 50;\n        var minX = x - 50;\n        var nodeX = Math.floor(Math.random()*(maxX-minX+1)+minX);\n        // console.log(absX,absY,maxX,minX,nodeX);\n\n        var maxY = y + 30;\n        var minY = y - 30;\n        var nodeY = Math.floor(Math.random()*(maxY-minY+1)+minY);\n        // console.log(maxY,minY,nodeY);\n        // 金币动画的 随机终点\n        // console.log(nodeX, nodeY); \n        return cc.p(nodeX, nodeY);\n    },\n    /**\n     * 销毁动画金币\n     */\n    destroyGoldNode: function() {\n\n        this.node.children.forEach(obj => {\n            if (obj['name'] === 'animaitonGold1') {\n                obj.destroy();\n            }\n        });\n    },\n    /**\n     * 显示下注金币 label\n     * node1: 全部下注总数节点\n     * node2: 当前用户全部下注总数节点\n     * total1: 全部下注总数\n     * total2: 当前用户全部下注总数\n     * idx: 玩家布局索引，8为当前用户\n     */\n    showGoldLabel: function(node1, node2, total1, total2, idx) {\n\n        node1.active = true;\n        node1.children[0].getComponent(cc.Label).string = total1;\n\n        if (idx === 8) {\n            node2.active = true;\n            node2.children[0].getComponent(cc.Label).string = total2;\n        }\n    },\n    /**\n     * 隐藏显示下注金币 label\n     */\n    hideGoldLabel: function() {\n\n        this.withTotalBetGold.active = false;\n        this.withUserTotalBetGold.active = false;\n\n        this.landlordChipTotalBetGold.active = false;\n        this.landlordChipUserTotalBetGold.active = false;\n\n        this.landlordPairTotalBetGold.active = false;\n        this.landlordPairUserTotalBetGold.active = false;\n\n        this.farmerChipTotalBetGold.active = false;\n        this.farmerChipUserTotalBetGold.active = false;\n\n        this.farmerPairTotalBetGold.active = false;\n        this.farmerPairUserTotalBetGold.active = false;\n    },\n    \n    \n    \n    \n\n    // ------------------ 状态一、等待准备 ------------------\n    /**\n     * VS 特效 \n     */\n    VSEffect: function() {\n\n        \n        \n        this.jajaleEffect50.active = true;\n        this.jajaleEffect50.getComponent(cc.Animation).play();\n        \n        setTimeout(() => {\n            this.jajaleEffect50.active = false;\n            this.jajaleEffect50.getComponent(cc.Animation).stop();\n\n        }, 2000);\n        console.log('VS 特效');\n    },\n\n    // ------------------ 状态二、下注 ------------------\n    /**\n     * 押注特效\n     * state : 显示状态（布尔类型）\n     */\n    detainEffect: function(state) {\n        console.log('押注特效');\n        if (typeof state == 'boolean') {\n            this.jajaleEffect30.active = state;\n            this.jajaleEffect31.active = state;\n            this.jajaleEffect32.active = state;\n            this.jajaleEffect33.active = state;\n            this.jajaleEffect34.active = state;\n            if (state) {\n                this.jajaleEffect30.getComponent(cc.Animation).play();\n                this.jajaleEffect31.getComponent(cc.Animation).play();\n                this.jajaleEffect32.getComponent(cc.Animation).play();\n                this.jajaleEffect33.getComponent(cc.Animation).play();\n                this.jajaleEffect34.getComponent(cc.Animation).play();\n            }else {\n                this.jajaleEffect30.getComponent(cc.Animation).stop();\n                this.jajaleEffect31.getComponent(cc.Animation).stop();\n                this.jajaleEffect32.getComponent(cc.Animation).stop();\n                this.jajaleEffect33.getComponent(cc.Animation).stop();\n                this.jajaleEffect34.getComponent(cc.Animation).stop();\n            }\n            \n        }\n        \n        \n\n    },\n\n    // ------------------ 状态三、发牌 ------------------\n    /**\n     * 开始 特效\n     */\n    beginEffect: function() {\n        console.log('开始 特效');\n        this.jajaleEffect51.active = true;\n        this.jajaleEffect51.getComponent(cc.Animation).play();\n        setTimeout(() => {\n            this.jajaleEffect51.active = false;\n            this.jajaleEffect51.getComponent(cc.Animation).stop();\n        }, 2000);\n    },\n    /**\n     * 发牌\n     */\n\n     // ------------------ 状态四、搓牌 ------------------\n\n\n     // ------------------ 状态五、结算 ------------------\n\n     /**\n     * 打斗特效\n     */\n    fightEffect: function(data) {\n\n        // 隐藏显示下注金币\n        this.hideGoldLabel();\n\n        \n        console.log('打斗特效');\n        if (data.winType === 1) {\n            this.jajaleEffect10.active = true;\n            this.jajaleEffect20.active = true;\n            this.jajaleEffect60.active = true;\n            this.jajaleEffect10.getComponent(cc.Animation).play();\n            this.jajaleEffect20.getComponent(cc.Animation).play();\n            this.jajaleEffect60.getComponent(cc.Animation).play();\n        }else if (data.winType === 2) {\n            this.jajaleEffect11.active = true;\n            this.jajaleEffect21.active = true;\n            this.jajaleEffect61.active = true;\n            this.jajaleEffect11.getComponent(cc.Animation).play();\n            this.jajaleEffect21.getComponent(cc.Animation).play();\n            this.jajaleEffect61.getComponent(cc.Animation).play();\n        }\n\n        setTimeout(() => {\n            if (data.winType === 1) {\n                \n                this.jajaleEffect60.active = false;\n                this.jajaleEffect60.getComponent(cc.Animation).stop();\n            }else if (data.winType === 2) {\n\n                this.jajaleEffect61.active = false;\n                this.jajaleEffect61.getComponent(cc.Animation).stop();\n            }\n            setTimeout(() => {\n\n                // 销毁这些下注金币 \n                this.destroyGoldNode();\n\n                this.winEffect(data);\n\n            }, 500);\n        }, 3000);\n\n        this.aWinAnimationGold = [];\n        this.bWinAnimationGold = [];\n        this.aPairWinAnimationGold = [];\n        this.bPairWinAnimationGold = [];\n        this.withWinAnimationGold = [];\n\n\n        for (let key in data.accountList) {\n            if (data.accountList.hasOwnProperty(key)) {\n                var obj = data.accountList[key];\n                if (obj.accAGold > 0) {\n                    // A win\n                    this.aWinAnimationGold.push(obj);\n                }\n                if (obj.accBGold > 0) {\n                    // B win\n                    this.bWinAnimationGold.push(obj);\n                }\n                if (obj.accPairAGold > 0) {\n                    // Ap win\n                    this.aPairWinAnimationGold.push(obj);\n                }\n                if (obj.accPairBGold > 0) {\n                    // Bp win\n                    this.bPairWinAnimationGold.push(obj);\n                }\n                if (obj.accDrawGold > 0) {\n                    // W win\n                    this.withWinAnimationGold.push(obj);\n                }\n            }\n        }\n\n    },\n    /**\n     * 赢家特效\n     */\n    winEffect: function(data) {\n\n        console.log('赢家特效',this.aWinAnimationGold,this.bWinAnimationGold,this.aPairWinAnimationGold,this.bPairWinAnimationGold,this.withWinAnimationGold);\n\n        if (this.aWinAnimationGold.length > 0) {\n            for (let idx = 0; idx < this.aWinAnimationGold.length; idx++) {\n                var obj = this.aWinAnimationGold[idx];\n                // var betIdx = this.roleIdArr.indexOf(obj.roleId); \n                this.creatorWinAnimationGoldNode(this.landlordChipBox,obj,'accAGold');\n            }\n        }\n        if (this.bWinAnimationGold.length > 0) {\n            for (let idx = 0; idx < this.bWinAnimationGold.length; idx++) {\n                var obj = this.bWinAnimationGold[idx];\n                // var betIdx = this.roleIdArr.indexOf(obj.roleId);\n                this.creatorWinAnimationGoldNode(this.farmerChipBox,obj,'accBGold');\n                \n            }\n        }\n        if (this.aPairWinAnimationGold.length > 0) {\n            for (let idx = 0; idx < this.aPairWinAnimationGold.length; idx++) {\n                var obj = this.aPairWinAnimationGold[idx];\n                // var betIdx = this.roleIdArr.indexOf(obj.roleId);\n                this.creatorWinAnimationGoldNode(this.landlordPairBox,obj,'accPairAGold');\n                \n            }\n        }\n        if (this.bPairWinAnimationGold.length > 0) {\n            for (let idx = 0; idx < this.bPairWinAnimationGold.length; idx++) {\n                var obj = this.bPairWinAnimationGold[idx];\n                // var betIdx = this.roleIdArr.indexOf(obj.roleId);\n                this.creatorWinAnimationGoldNode(this.farmerPairBox,obj,'accPairBGold');\n                \n            }\n        }\n        if (this.withWinAnimationGold.length > 0) {\n            for (let idx = 0; idx < this.withWinAnimationGold.length; idx++) {\n                var obj = this.withWinAnimationGold[idx];\n                // var betIdx = this.roleIdArr.indexOf(obj.roleId);\n                this.creatorWinAnimationGoldNode(this.withBox,obj,'accDrawGold');\n                \n            }\n        }\n\n\n        // 这里创建赢家金币动画\n\n        \n\n        if (data.winType === 1) {\n            this.jajaleEffect40.active = true;\n            this.jajaleEffect43.active = true;\n            this.jajaleEffect40.getComponent(cc.Animation).play();\n            this.jajaleEffect43.getComponent(cc.Animation).play();\n        }else if (data.winType === 2) {\n            this.jajaleEffect41.active = true;\n            this.jajaleEffect46.active = true;\n            this.jajaleEffect41.getComponent(cc.Animation).play();\n            this.jajaleEffect46.getComponent(cc.Animation).play();\n        }\n        if (data.aPairWin) {\n            this.jajaleEffect44.active = true;\n            this.jajaleEffect44.getComponent(cc.Animation).play();\n        }\n        if (data.bPairWin) {\n            this.jajaleEffect45.active = true;\n            this.jajaleEffect45.getComponent(cc.Animation).play();\n        }\n        if (data.dirWin) {\n            this.jajaleEffect42.active = true;\n            this.jajaleEffect42.getComponent(cc.Animation).play();\n        }\n\n\n        setTimeout(() => {\n\n            if (data.winType === 1) {\n                // 隐藏地主赢家框特效\n                this.jajaleEffect10.active = false;\n                this.jajaleEffect20.active = false;\n                this.jajaleEffect10.getComponent(cc.Animation).stop();\n                this.jajaleEffect20.getComponent(cc.Animation).stop();\n                // 隐藏地主赢家文字、标志特效\n                this.jajaleEffect40.active = false;\n                this.jajaleEffect43.active = false;\n                this.jajaleEffect40.getComponent(cc.Animation).stop();\n                this.jajaleEffect43.getComponent(cc.Animation).stop();\n            }else if (data.winType === 2) {\n                // 隐藏农民赢家框特效\n                this.jajaleEffect11.active = false;\n                this.jajaleEffect21.active = false;\n                this.jajaleEffect11.getComponent(cc.Animation).stop();\n                this.jajaleEffect21.getComponent(cc.Animation).stop();\n\n                // 隐藏农民赢家文字、标志特效\n                this.jajaleEffect41.active = false;\n                this.jajaleEffect46.active = false;\n                this.jajaleEffect41.getComponent(cc.Animation).stop();\n                this.jajaleEffect46.getComponent(cc.Animation).stop();\n            }\n            if (data.aPairWin) {\n                // 隐藏地主对子赢家标志特效\n                this.jajaleEffect44.active = false;\n                this.jajaleEffect44.getComponent(cc.Animation).stop();\n            }\n            if (data.bPairWin) {\n                // 隐藏农民对子赢家标志特效\n                this.jajaleEffect45.active = false;\n                this.jajaleEffect45.getComponent(cc.Animation).stop();\n            }\n            if (data.dirWin) {\n                // 隐藏直赢赢家标志特效\n                this.jajaleEffect42.active = false;\n                this.jajaleEffect42.getComponent(cc.Animation).stop();\n            }\n        }, 2000);\n    },\n});\n"]}