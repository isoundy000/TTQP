{"version":3,"sources":["jajaleCreateRoomScript.js"],"names":["cc","Class","extends","Component","properties","pswEdit","EditBox","minGoldLab","Label","minGold","onLoad","string","ttqp_global","unitConversion","onfire","on","jajaleCreateRoomMessage","bind","onCloseCreateHomeHandle","console","log","node","active","onSetGoldHandle","event","customData","onTextChanged","text","editText","onCreateRoom","p","scn","socket","send"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAASL,GAAGM,OADJ;AAERC,oBAAYP,GAAGQ,KAFP;AAGRC,iBAAS;AAHD,KAHP;;AASL;;AAEAC,UAXK,oBAWK;;AAEN,aAAKH,UAAL,CAAgBI,MAAhB,GAAyBC,YAAYC,cAAZ,CAA2B,KAAKJ,OAAhC,CAAzB;;AAEA;AACAK,eAAOC,EAAP,CAAU,yBAAV,EAAoC,KAAKC,uBAAL,CAA6BC,IAA7B,CAAkC,IAAlC,CAApC;AAEH,KAlBI;;;AAoBL;;;AAGAC,6BAAyB,mCAAW;AAChCC,gBAAQC,GAAR,CAAY,OAAZ;AACA,aAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KA1BI;AA2BL;;;AAGAC,qBAAiB,yBAASC,KAAT,EAAgBC,UAAhB,EAA4B;AACzC,gBAAQA,UAAR;AACI,iBAAK,KAAL;AACI,oBAAI,KAAKhB,OAAL,KAAiB,QAArB,EAA+B;AAC3B,yBAAKA,OAAL,GAAe,SAAf;AACH,iBAFD,MAGK,IAAI,KAAKA,OAAL,KAAiB,UAArB,EAAiC;AAClC,yBAAKA,OAAL,GAAe,QAAf;AACH,iBAFI,MAGA;AACD,yBAAKA,OAAL,IAAgB,SAAhB;AACH;AACD;AACJ,iBAAK,KAAL;AACI,oBAAI,KAAKA,OAAL,KAAiB,QAArB,EAA+B;AAC3B,yBAAKA,OAAL,GAAe,UAAf;AACH,iBAFD,MAGK,IAAI,KAAKA,OAAL,KAAiB,SAArB,EAAgC;AACjC,yBAAKA,OAAL,GAAe,QAAf;AACH,iBAFI,MAGA;AACD,yBAAKA,OAAL,IAAgB,SAAhB;AACH;AACD;;AAEJ;AACI;AAzBR;AA2BA,aAAKF,UAAL,CAAgBI,MAAhB,GAAyBC,YAAYC,cAAZ,CAA2B,KAAKJ,OAAhC,CAAzB;AACH,KA3DI;AA4DL;;;AAGAiB,mBAAe,uBAASC,IAAT,EAAeH,KAAf,EAAsBC,UAAtB,EAAkC;AAC7C,aAAKG,QAAL,GAAgBD,IAAhB;AAEH,KAlEI;AAmEL;;;AAGAE,kBAAc,wBAAW;;AAErB,YAAIC,IAAI;AACJ,wBAAa,KAAKzB,OAAL,CAAaM,MADtB;AAEJ,uBAAY,KAAKF;AAFb,SAAR;AAIAT,WAAG+B,GAAH,CAAOC,MAAP,CAAcC,IAAd,CAAmB,MAAnB,EAA0BH,CAA1B;AACH,KA7EI;AA8EL;;;AAGAd,6BAAyB,mCAAW;AAChC,aAAKK,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACAtB,WAAG+B,GAAH,CAAOC,MAAP,CAAcC,IAAd,CAAmB,MAAnB;AACH;AApFI,CAAT","file":"jajaleCreateRoomScript.js","sourceRoot":"../../../../../assets/Script/jajaleScript","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pswEdit: cc.EditBox,\n        minGoldLab: cc.Label,\n        minGold: 100000000,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        this.minGoldLab.string = ttqp_global.unitConversion(this.minGold);\n\n        // 创建房间\n        onfire.on('jajaleCreateRoomMessage',this.jajaleCreateRoomMessage.bind(this));\n        \n    },\n\n    /**\n     * 关闭创建房间窗口\n     */\n    onCloseCreateHomeHandle: function() {\n        console.log('close');\n        this.node.active = false;\n    },\n    /**\n     * 加 减\n     */\n    onSetGoldHandle: function(event, customData) {\n        switch (customData) {\n            case 'add':\n                if (this.minGold === 50000000) {\n                    this.minGold = 100000000;\n                }\n                else if (this.minGold === 1000000000) {\n                    this.minGold = 50000000;\n                }\n                else {\n                    this.minGold += 100000000;\n                }\n                break;\n            case 'sub':\n                if (this.minGold === 50000000) {\n                    this.minGold = 1000000000;\n                }\n                else if (this.minGold === 100000000) {\n                    this.minGold = 50000000;\n                }\n                else {\n                    this.minGold -= 100000000;\n                }\n                break;\n        \n            default:\n                break;\n        }\n        this.minGoldLab.string = ttqp_global.unitConversion(this.minGold);\n    },\n    /**\n     * 输入喊话内容 监听\n     */\n    onTextChanged: function(text, event, customData) {\n        this.editText = text;\n        \n    },\n    /**\n     * 创建\n     */\n    onCreateRoom: function() {\n\n        var p = {\n            'password' : this.pswEdit.string,\n            'minGold' : this.minGold,\n        }\n        cc.scn.socket.send(112203,p);\n    },\n    /**\n     * 创建房间成功 回调\n     */\n    jajaleCreateRoomMessage: function() {\n        this.node.active = false;\n        cc.scn.socket.send(112201);\n    },\n});\n"]}