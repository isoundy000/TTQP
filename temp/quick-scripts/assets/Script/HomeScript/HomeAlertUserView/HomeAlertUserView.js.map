{"version":3,"sources":["HomeAlertUserView.js"],"names":["cc","Class","extends","Component","properties","contentView","Node","nicknameLabel","Label","idLabel","goldLabel","onShowView","isShow","alertData","callback","console","log","node","active","userID","id","i","length","string","nickname","gold","self","headUrl","loader","load","err","texture","headIcon","getComponent","Sprite","spriteFrame","SpriteFrame","scaleAmin1","scaleTo","scaleAmin2","runAction","sequence","scaleAmin","onMenusBtnClick","event","customData","parseInt","onCloseBtnClick"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAaL,GAAGM,IADR;AAERC,uBAAeP,GAAGQ,KAFV;AAGRC,iBAAST,GAAGQ,KAHJ;AAIRE,mBAAWV,GAAGQ;AAJN,KAHP;;AAUL;;;;;;AAMAG,cAhBK,sBAgBMC,MAhBN,EAgBcC,SAhBd,EAgByBC,QAhBzB,EAgBmC;AACpCC,gBAAQC,GAAR,CAAY,2BAAZ;;AAEA,aAAKH,SAAL,GAAiBA,SAAjB;AACA,aAAKC,QAAL,GAAgBA,QAAhB;;AAEA,aAAKG,IAAL,CAAUC,MAAV,GAAmBN,MAAnB;;AAEA,YAAIA,MAAJ,EAAY;;AAER,gBAAIC,SAAJ,EAAe;AACX,oBAAIM,SAASN,UAAUO,EAAvB;AACA,qBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAK,IAAIR,UAAUO,EAAV,CAAaE,MAAtC,EAA+CD,GAA/C,EAAoD;AAChDF,6BAAS,MAAMA,MAAf;AACH;AACD,qBAAKZ,aAAL,CAAmBgB,MAAnB,GAA4BV,UAAUW,QAAtC;AACA,qBAAKf,OAAL,CAAac,MAAb,GAAsBJ,MAAtB;AACA,qBAAKT,SAAL,CAAea,MAAf,GAAwBV,UAAUY,IAAlC;;AAEA,oBAAIC,OAAO,IAAX;AACA,oBAAIb,UAAUc,OAAV,CAAkBL,MAAtB,EAA8B;AAC1BtB,uBAAG4B,MAAH,CAAUC,IAAV,CAAehB,UAAUc,OAAzB,EAAkC,UAAUG,GAAV,EAAeC,OAAf,EAAwB;AACtDL,6BAAKM,QAAL,CAAcC,YAAd,CAA2BjC,GAAGkC,MAA9B,EAAsCC,WAAtC,GAAoD,IAAInC,GAAGoC,WAAP,CAAmBL,OAAnB,CAApD;AACH,qBAFD;AAGH;AACJ,aAfD,MAeO;AACH,qBAAKxB,aAAL,CAAmBgB,MAAnB,GAA4B,EAA5B;AACA,qBAAKd,OAAL,CAAac,MAAb,GAAsB,EAAtB;AACA,qBAAKb,SAAL,CAAea,MAAf,GAAwB,EAAxB;AACA,qBAAKS,QAAL,CAAcC,YAAd,CAA2BjC,GAAGkC,MAA9B,EAAsCC,WAAtC,GAAoD,IAApD;AACH;;AAED,gBAAIE,aAAarC,GAAGsC,OAAH,CAAW,QAAX,EAAqB,GAArB,EAA0B,GAA1B,CAAjB;AACA,gBAAIC,aAAavC,GAAGsC,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAjB;AACA,iBAAKjC,WAAL,CAAiBmC,SAAjB,CAA2BxC,GAAGyC,QAAH,CAAYJ,UAAZ,EAAwBE,UAAxB,CAA3B;AACH,SA3BD,MA2BO;AACH,gBAAIG,YAAY1C,GAAGsC,OAAH,CAAW,CAAX,EAAc,GAAd,EAAmB,GAAnB,CAAhB;AACA,iBAAKjC,WAAL,CAAiBmC,SAAjB,CAA2BE,SAA3B;AACH;AACJ,KAvDI;AAyDLC,mBAzDK,2BAyDWC,KAzDX,EAyDkBC,UAzDlB,EAyD8B;AAC/B,YAAIC,SAASD,UAAT,KAAwB,CAAxB,IAA6B,KAAK/B,QAAtC,EAAgD;AAC5C,iBAAKA,QAAL;AACH;AACD,aAAKH,UAAL,CAAgB,KAAhB,EAAuB,IAAvB,EAA6B,IAA7B;AACH,KA9DI;;;AAgEL;;;AAGAoC,mBAnEK,2BAmEWH,KAnEX,EAmEkB;AACnB,aAAKjC,UAAL,CAAgB,KAAhB,EAAuB,IAAvB,EAA6B,IAA7B;AACH;AArEI,CAAT","file":"HomeAlertUserView.js","sourceRoot":"../../../../../../assets/Script/HomeScript/HomeAlertUserView","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        contentView: cc.Node,\n        nicknameLabel: cc.Label,\n        idLabel: cc.Label,\n        goldLabel: cc.Label,\n    },\n\n    /**\n     * 弹出/关闭 窗口\n     * @param {是否弹出} isShow         \n     * @param {弹窗数据} alertData    \n     * @param {回调函数，在点击使用的时候回调} callback \n     */\n    onShowView(isShow, alertData, callback) {\n        console.log(\"如果角色不存在等出错情况，需要在工具类里面统一处理\");\n        \n        this.alertData = alertData;\n        this.callback = callback;\n\n        this.node.active = isShow;\n\n        if (isShow) {\n            \n            if (alertData) {\n                let userID = alertData.id;\n                for (let i = 0; i < (6 - alertData.id.length); i++) {\n                    userID = \"0\" + userID;\n                }\n                this.nicknameLabel.string = alertData.nickname;\n                this.idLabel.string = userID;\n                this.goldLabel.string = alertData.gold;\n    \n                let self = this;\n                if (alertData.headUrl.length) {\n                    cc.loader.load(alertData.headUrl, function (err, texture) {\n                        self.headIcon.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\n                    });\n                }\n            } else {\n                this.nicknameLabel.string = \"\";\n                this.idLabel.string = \"\";\n                this.goldLabel.string = \"\";\n                this.headIcon.getComponent(cc.Sprite).spriteFrame = null;\n            }\n\n            var scaleAmin1 = cc.scaleTo(0.000001, 0.8, 0.8);\n            var scaleAmin2 = cc.scaleTo(0.2, 1, 1);\n            this.contentView.runAction(cc.sequence(scaleAmin1, scaleAmin2));\n        } else {\n            var scaleAmin = cc.scaleTo(0, 0.8, 0.8);\n            this.contentView.runAction(scaleAmin);\n        }\n    },\n\n    onMenusBtnClick(event, customData) {\n        if (parseInt(customData) == 0 && this.callback) {\n            this.callback();\n        }\n        this.onShowView(false, null, null);\n    },\n\n    /**\n     * 关闭按钮的点击\n     */\n    onCloseBtnClick(event) {\n        this.onShowView(false, null, null);\n    },\n});\n"]}