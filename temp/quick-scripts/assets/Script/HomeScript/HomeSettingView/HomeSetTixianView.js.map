{"version":3,"sources":["HomeSetTixianView.js"],"names":["cc","Class","extends","Component","properties","contentView","Node","idLabel","Label","bankNameLabel","cardNumEditBox","EditBox","yanzhengmaEditBox","yzmAlertText","maxCount","bankListView","onLoad","isRunning","currentCountNum","onShowView","isShow","callback","setScale","string","scaleAmin1","scaleTo","scaleAmin2","runAction","sequence","scaleAmin","node","active","onMenusBtnClick","event","customData","itemIdx","parseInt","console","log","timer","unschedule","schedule","onIsShowBankListView","isShowBankListView","bankList","self","getComponent","init","bankData","title","onCloseBtnClick"],"mappings":"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","file":"HomeSetTixianView.js","sourceRoot":"../../../../../../assets/Script/HomeScript/HomeSettingView","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        contentView: cc.Node,\n\n        /// 游戏ID输入框\n        idLabel: cc.Label,\n        /// 银行输入框\n        bankNameLabel: cc.Label,\n        /// 银行卡号输入框\n        cardNumEditBox: cc.EditBox,\n        /// 验证码输入框\n        yanzhengmaEditBox: cc.EditBox,\n\n        /// 验证码的提示标签\n        yzmAlertText: cc.Label,\n        /// 倒计时的最大数\n        maxCount: 60,\n\n        // 银行名称列表\n        bankListView: cc.Node,\n    },\n\n    onLoad() {\n        // 是否在倒计时\n        this.isRunning = false;\n        // 当前倒计时的数字\n        this.currentCountNum = this.maxCount;\n    },\n\n    /**\n     * 弹出/关闭 窗口\n     * @param {是否弹出} isShow       \n     * @param {回调函数，在点击使用的时候回调} callback \n     */\n    onShowView(isShow, callback) {\n        this.callback = callback;\n        this.contentView.setScale(0.8, 0.8);\n\n        this.bankNameLabel.string = \"请选择银行\";\n\n        if (isShow) {\n            var scaleAmin1 = cc.scaleTo(0.000001, 0.8, 0.8);\n            var scaleAmin2 = cc.scaleTo(0.2, 1, 1);\n            this.contentView.runAction(cc.sequence(scaleAmin1, scaleAmin2));\n        } else {\n            var scaleAmin = cc.scaleTo(0, 0.8, 0.8);\n            this.contentView.runAction(scaleAmin);\n        }\n        this.node.active = isShow;\n    },\n\n    onMenusBtnClick(event, customData) {\n        let itemIdx = parseInt(customData);\n        switch (itemIdx) {\n            case 0: {   // 提交\n                this.onShowView(false, this.callback);\n                console.log(\"提交提交提交提交提交提交提交提交提交\");\n            }\n                break;\n            case 1: {   // 获取验证码\n                if (!this.isRunning) {\n                    this.isRunning = true;\n                    this.yzmAlertText.string = this.currentCountNum + \"s\";\n\n                    this.timer = function () {\n                        if (this.currentCountNum > 0) {\n                            this.currentCountNum--;\n                            this.yzmAlertText.string = this.currentCountNum + \"s\";\n                        } else {\n                            this.isRunning = false;\n                            this.yzmAlertText.string = \"获取验证码\";\n                            this.currentCountNum = this.maxCount;\n                            this.unschedule(this.timer);\n                        }\n                    }\n                    this.schedule(this.timer, 1)\n                }\n            }\n                break;\n\n            default:\n                break;\n        }\n    },\n\n    onIsShowBankListView(event) {\n        //\n        this.isShowBankListView = !this.isShowBankListView;\n        let bankList = [\n            {\"title\": \"中国工商银行\",},\n            {\"title\": \"招商银行\",},\n            {\"title\": \"交通银行\",},\n            {\"title\": \"中国农业银行\",},\n            {\"title\": \"中国人民银行\",},\n            {\"title\": \"中国工商银行\",}\n        ];\n        let self = this;\n        this.bankListView.getComponent('HomeSetTixianBankView').init(true, bankList, (bankData)=> {\n            self.bankNameLabel.string = bankData.title;\n        });\n    },\n\n    /**\n     * 点击关闭按钮\n     */\n    onCloseBtnClick(event) {\n        this.onShowView(false, this.callback);\n    },\n});\n"]}