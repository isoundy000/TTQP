{"version":3,"sources":["HomeSetDailiInfoView.js"],"names":["socket","require","cc","Class","extends","Component","properties","contentView","Node","idLabel","Label","yqUserNumLabel","inLineUserNumLabel","gameCountLabel","redBagLabel","goldUserLabel","yinUserLabel","userPaiHangView","tixianView","onLoad","onfire","on","onGetDailiInfo","bind","configUI","string","dailiInfo","ID","toString","inviteNum","onlineNum","totalTax","redPacket","goldMedal","silverMedal","onShowView","isShow","callback","setScale","scaleAmin1","scaleTo","scaleAmin2","runAction","sequence","onGetDailiInfoRequest","scaleAmin","node","active","scn","send","data","console","log","onMenusBtnClick","event","customData","itemIdx","parseInt","getComponent","onCloseBtnClick"],"mappings":"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","file":"HomeSetDailiInfoView.js","sourceRoot":"../../../../../../assets/Script/HomeScript/HomeSettingView","sourcesContent":["// 发接口对象\nvar socket = require(\"websocketScript\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        contentView: cc.Node,\n        // ID标签\n        idLabel: cc.Label,\n        // 邀请人 标签\n        yqUserNumLabel: cc.Label,\n        // 在线人数 标签\n        inLineUserNumLabel: cc.Label,\n        // 游戏局数 标签\n        gameCountLabel: cc.Label,\n        // 红包 标签\n        redBagLabel: cc.Label,\n        // 金牌玩家 标签\n        goldUserLabel: cc.Label,\n        // 银牌玩家 标签\n        yinUserLabel: cc.Label,\n\n\n        // 子级弹窗\n        // 用户排行\n        userPaiHangView: cc.Node,\n        // 提现排行\n        tixianView: cc.Node,\n\n\n    },\n\n    onLoad() {\n        onfire.on(\"HomeDailiInfoHandle\", this.onGetDailiInfo.bind(this));\n    },\n\n    configUI() {\n        // ID标签\n        this.idLabel.string = this.dailiInfo.ID.toString();\n        // 邀请人 标签\n        this.yqUserNumLabel.string = this.dailiInfo.inviteNum.toString();\n        // 在线人数 标签\n        this.inLineUserNumLabel.string = this.dailiInfo.onlineNum.toString();\n        // 游戏局数 标签\n        this.gameCountLabel.string = this.dailiInfo.totalTax.toString();\n        // 红包 标签\n        this.redBagLabel.string = this.dailiInfo.redPacket.toString();\n        // 金牌玩家 标签\n        this.goldUserLabel.string = this.dailiInfo.goldMedal.toString();\n        // 银牌玩家 标签\n        this.yinUserLabel.string = this.dailiInfo.silverMedal.toString();\n    },\n\n    /**\n     * 弹出/关闭 窗口\n     * @param {是否弹出} isShow       \n     * @param {回调函数，在点击使用的时候回调} callback \n     */\n    onShowView(isShow, callback) {\n        this.callback = callback;\n        this.contentView.setScale(0.8, 0.8);\n\n        if (isShow) {\n            var scaleAmin1 = cc.scaleTo(0.000001, 0.8, 0.8);\n            var scaleAmin2 = cc.scaleTo(0.2, 1, 1);\n            this.contentView.runAction(cc.sequence(scaleAmin1, scaleAmin2));\n\n            this.onGetDailiInfoRequest();\n        } else {\n            var scaleAmin = cc.scaleTo(0, 0.8, 0.8);\n            this.contentView.runAction(scaleAmin);\n        }\n        this.node.active = isShow;\n    },\n\n    /*********************** 发送接口 ***********************/\n    onGetDailiInfoRequest() {\n        cc.scn.socket.send(10901);\n    },\n\n    /*********************** 接口回调 ***********************/\n    onGetDailiInfo(data) {\n        //\n        console.log(data);\n        if (data) {\n            this.dailiInfo = data;\n            this.configUI();\n        }\n    },\n\n    onMenusBtnClick(event, customData) {\n        let itemIdx = parseInt(customData);\n        switch (itemIdx) {\n            case 0: {   // 玩家排行\n                this.userPaiHangView.getComponent('HomeSetUserPaiHangView').onShowView(true, () => {\n                    //\n                });\n            }\n                break;\n            case 1: {   // 提现\n                this.tixianView.getComponent('HomeSetTixianView').onShowView(true, () => {\n                    //\n                });\n\n            }\n                break;\n\n            default:\n                break;\n        }\n    },\n\n    /**\n     * 点击关闭按钮\n     * 或者判断是否是点击了灰色背景View，如果是点击灰色背景View，让弹窗消失\n     */\n    onCloseBtnClick(event) {\n        this.onShowView(false, this.callback);\n    },\n});\n"]}