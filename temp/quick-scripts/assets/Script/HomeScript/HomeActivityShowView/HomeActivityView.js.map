{"version":3,"sources":["HomeActivityView.js"],"names":["cc","Class","extends","Component","properties","contentView","Node","activityBtn","gameTaskBtn","gonggaoBtn","gonggaoView","taskView","zhuanpanView","onLoad","self","node","getComponent","onClickLightGrayBg","onCloseBtnClick","onConfigActivityTypeBtn","isActivity","isGameTask","isGonggao","onStatus","onShowView","isShow","active","moveAction","moveTo","p","runAction","setPositionY","onMenusTypeBtnClick","event","customData","typeIdx","parseInt","itemIdx","isRunning"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,qBAAaL,GAAGM,IAFR;;AAIR;AACAC,qBAAaP,GAAGM,IALR;AAMR;AACAE,qBAAaR,GAAGM,IAPR;AAQR;AACAG,oBAAYT,GAAGM,IATP;;AAWR;AACAI,qBAAaV,GAAGM,IAZR;AAaR;AACAK,kBAAUX,GAAGM,IAdL;AAeR;AACAM,sBAAcZ,GAAGM;AAhBT,KAHP;;AAsBLO,UAtBK,oBAsBK;AACN,YAAIC,OAAO,IAAX;AACA,aAAKC,IAAL,CAAUC,YAAV,CAAuB,qBAAvB,EAA8CC,kBAA9C,CAAiE,YAAM;AACnEH,iBAAKI,eAAL,CAAqB,IAArB;AACH,SAFD;AAGH,KA3BI;;;AA8BL;AACAC,2BA/BK,mCA+BmBC,UA/BnB,EA+B+BC,UA/B/B,EA+B2CC,SA/B3C,EA+BsD;;AAEvD,aAAKf,WAAL,CAAiBS,YAAjB,CAA8B,uBAA9B,EAAuDO,QAAvD,CAAgEH,UAAhE;AACA,aAAKR,YAAL,CAAkBI,YAAlB,CAA+B,qBAA/B,EAAsDQ,UAAtD,CAAiEJ,UAAjE;;AAIA,aAAKZ,WAAL,CAAiBQ,YAAjB,CAA8B,uBAA9B,EAAuDO,QAAvD,CAAgEF,UAAhE;AACA,aAAKV,QAAL,CAAcK,YAAd,CAA2B,sBAA3B,EAAmDQ,UAAnD,CAA8DH,UAA9D;;AAGA,aAAKZ,UAAL,CAAgBO,YAAhB,CAA6B,uBAA7B,EAAsDO,QAAtD,CAA+DD,SAA/D;AACA,aAAKZ,WAAL,CAAiBM,YAAjB,CAA8B,yBAA9B,EAAyDQ,UAAzD,CAAoEF,SAApE;AACH,KA5CI;;;AA8CL;;;;AAIAE,cAlDK,sBAkDMC,MAlDN,EAkDc;;AAEf,aAAKV,IAAL,CAAUW,MAAV,GAAmBD,MAAnB;AACA,YAAIA,MAAJ,EAAY;AACR,gBAAIE,aAAa3B,GAAG4B,MAAH,CAAU,GAAV,EAAe5B,GAAG6B,CAAH,CAAK,CAAL,EAAQ,CAAR,CAAf,CAAjB;AACA,iBAAKxB,WAAL,CAAiByB,SAAjB,CAA2BH,UAA3B;;AAEA,iBAAKR,uBAAL,CAA6B,IAA7B,EAAmC,KAAnC,EAA0C,KAA1C;AACH,SALD,MAKO;AACH,iBAAKd,WAAL,CAAiB0B,YAAjB,CAA8B,CAAC,IAA/B;AACH;AACJ,KA7DI;;;AA+DL;;;;;AAKAC,uBApEK,+BAoEeC,KApEf,EAoEsBC,UApEtB,EAoEkC;AACnC,YAAIC,UAAUC,SAASF,UAAT,CAAd;;AAEA,aAAKG,OAAL,GAAeF,OAAf;;AAEA,gBAAQA,OAAR;AACI,iBAAK,CAAL;AACI,qBAAKhB,uBAAL,CAA6B,IAA7B,EAAmC,KAAnC,EAA0C,KAA1C;AACA;AACJ,iBAAK,CAAL;AACI,qBAAKA,uBAAL,CAA6B,KAA7B,EAAoC,IAApC,EAA0C,KAA1C;AACA;AACJ,iBAAK,CAAL;AACI,qBAAKA,uBAAL,CAA6B,KAA7B,EAAoC,KAApC,EAA2C,IAA3C;AACA;;AAEJ;AACI;AAZR;AAcH,KAvFI;AAyFLD,mBAzFK,2BAyFWe,KAzFX,EAyFkB;AACnB,YAAI,KAAKrB,YAAL,CAAkBI,YAAlB,CAA+B,qBAA/B,EAAsDsB,SAAtD,IAAmE,IAAvE,EAA6E;AAC7E,aAAKd,UAAL,CAAgB,KAAhB;AACH;AA5FI,CAAT","file":"HomeActivityView.js","sourceRoot":"../../../../../../assets/Script/HomeScript/HomeActivityShowView","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 子控件的背景View\n        contentView: cc.Node,\n\n        // 最新活动 类型按钮\n        activityBtn: cc.Node,\n        // 游戏任务 类型按钮\n        gameTaskBtn: cc.Node,\n        // 游戏公告 类型按钮\n        gonggaoBtn: cc.Node,\n\n        // 最佳公告View\n        gonggaoView: cc.Node,\n        // 最新任务View\n        taskView: cc.Node,\n        // 最热活动View - 转盘\n        zhuanpanView: cc.Node,\n    },\n\n    onLoad () {\n        var self = this;\n        this.node.getComponent('HomeSyncClickBgNode').onClickLightGrayBg(() => {\n            self.onCloseBtnClick(null);\n        });\n    },\n\n\n    // 配置类型按钮\n    onConfigActivityTypeBtn(isActivity, isGameTask, isGonggao) {\n\n        this.activityBtn.getComponent('HomeSelectImgTitleBtn').onStatus(isActivity);\n        this.zhuanpanView.getComponent('HomeActivityPanView').onShowView(isActivity);\n\n        \n\n        this.gameTaskBtn.getComponent('HomeSelectImgTitleBtn').onStatus(isGameTask);\n        this.taskView.getComponent('HomeActivityTaskView').onShowView(isGameTask);\n\n\n        this.gonggaoBtn.getComponent('HomeSelectImgTitleBtn').onStatus(isGonggao);\n        this.gonggaoView.getComponent('HomeActivityGonggaoView').onShowView(isGonggao);\n    },\n\n    /**\n     * 弹出/关闭 窗口\n     * @param {是否弹出} isShow\n     */\n    onShowView(isShow) {\n\n        this.node.active = isShow;\n        if (isShow) {\n            var moveAction = cc.moveTo(0.2, cc.p(0, 0));\n            this.contentView.runAction(moveAction);\n\n            this.onConfigActivityTypeBtn(true, false, false);\n        } else {\n            this.contentView.setPositionY(-1300);\n        }\n    },\n\n    /**\n     * 类型按钮切换\n     * @param {按钮事件} event \n     * @param {属性编辑器中传递过来的数据} customData \n     */\n    onMenusTypeBtnClick(event, customData) {\n        var typeIdx = parseInt(customData);\n\n        this.itemIdx = typeIdx;\n\n        switch (typeIdx) {\n            case 0:\n                this.onConfigActivityTypeBtn(true, false, false);\n                break;\n            case 1:\n                this.onConfigActivityTypeBtn(false, true, false);\n                break;\n            case 2:\n                this.onConfigActivityTypeBtn(false, false, true);\n                break;\n\n            default:\n                break;\n        }\n    },\n\n    onCloseBtnClick(event) {\n        if (this.zhuanpanView.getComponent('HomeActivityPanView').isRunning == true) return;\n        this.onShowView(false);\n    },\n});"]}