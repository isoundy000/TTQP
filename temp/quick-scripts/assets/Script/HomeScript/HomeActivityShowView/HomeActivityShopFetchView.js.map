{"version":3,"sources":["HomeActivityShopFetchView.js"],"names":["cc","Class","extends","Component","properties","contentView","Node","shopItemPrefab","Prefab","shopItemBgView","onLoad","onCreateItem","removeAllChildren","shopList","contentSize","getContentSize","itemWH","i","length","shopData","item","instantiate","setPosition","p","addChild","getComponent","init","shopItemBgViewW","width","onShowView","isShow","callback","node","active","onMenusBtnClick","event"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,qBAAaL,GAAGM,IAFR;;AAIRC,wBAAgBP,GAAGQ,MAJX;;AAMRC,wBAAgBT,GAAGM;AANX,KAHP;;AAYLI,UAZK,oBAYI,CAER,CAdI;;;AAgBL;;;AAGAC,gBAnBK,0BAmBU;;AAEX,aAAKF,cAAL,CAAoBG,iBAApB;;AAEA,YAAI,CAAC,KAAKC,QAAV,EAAoB;;AAGpB,YAAIC,cAAc,KAAKT,WAAL,CAAiBU,cAAjB,EAAlB;AACA,YAAIC,SAAS,GAAb;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKJ,QAAL,CAAcK,MAAlC,EAA0CD,GAA1C,EAA+C;AAC3C,gBAAME,WAAW,KAAKN,QAAL,CAAcI,CAAd,CAAjB;;AAEA,gBAAIG,OAAOpB,GAAGqB,WAAH,CAAe,KAAKd,cAApB,CAAX;AACAa,iBAAKE,WAAL,CAAiBtB,GAAGuB,CAAH,CAAKP,SAASC,CAAd,EAAiB,CAAjB,CAAjB;AACA,iBAAKR,cAAL,CAAoBe,QAApB,CAA6BJ,IAA7B;;AAEAA,iBAAKK,YAAL,CAAkB,yBAAlB,EAA6CC,IAA7C,CAAkDP,QAAlD;AACH;;AAED,YAAIQ,kBAAkB,MAAM,KAAKd,QAAL,CAAcK,MAA1C;AACA,aAAKT,cAAL,CAAoBmB,KAApB,GAA4BD,eAA5B;AACA,aAAKlB,cAAL,CAAoBa,WAApB,CAAgCtB,GAAGuB,CAAH,CAAK,CAACT,YAAYc,KAAZ,GAAoBD,eAArB,IAAwC,CAAxC,GAA4C,GAAjD,EAAsD,CAAC,GAAvD,CAAhC;AACH,KAzCI;;;AA2CL;;;;;;AAMAE,cAjDK,sBAiDMC,MAjDN,EAiDcjB,QAjDd,EAiDwBkB,QAjDxB,EAiDkC;AACnC,aAAKlB,QAAL,GAAgBA,QAAhB;AACA,aAAKkB,QAAL,GAAgBA,QAAhB;;AAEA,aAAKC,IAAL,CAAUC,MAAV,GAAmBH,MAAnB;;AAEA,YAAIA,MAAJ,EAAY;AACR,iBAAKnB,YAAL;AACH;AACJ,KA1DI;;;AA4DL;AACA;;;AAGAuB,mBAhEK,2BAgEWC,KAhEX,EAgEkB;AACnB,aAAKN,UAAL,CAAgB,KAAhB,EAAuB,KAAKhB,QAA5B,EAAsC,KAAKkB,QAA3C;AACA,YAAI,KAAKA,QAAT,EAAmB;AACf,iBAAKA,QAAL;AACH;AACJ;AArEI,CAAT","file":"HomeActivityShopFetchView.js","sourceRoot":"../../../../../../assets/Script/HomeScript/HomeActivityShowView","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 子控件背景View\n        contentView: cc.Node,\n\n        shopItemPrefab: cc.Prefab,\n\n        shopItemBgView: cc.Node,\n    },\n\n    onLoad() {\n        \n    },\n\n    /**\n     * 创建物品Item\n     */\n    onCreateItem() {\n\n        this.shopItemBgView.removeAllChildren();\n\n        if (!this.shopList) return;\n\n\n        let contentSize = this.contentView.getContentSize();\n        let itemWH = 154;\n        for (let i = 0; i < this.shopList.length; i++) {\n            const shopData = this.shopList[i];\n\n            let item = cc.instantiate(this.shopItemPrefab);\n            item.setPosition(cc.p(itemWH * i, 0));\n            this.shopItemBgView.addChild(item);\n\n            item.getComponent('HomeActivityGetShopItem').init(shopData);\n        }\n\n        let shopItemBgViewW = 154 * this.shopList.length;\n        this.shopItemBgView.width = shopItemBgViewW;\n        this.shopItemBgView.setPosition(cc.p((contentSize.width - shopItemBgViewW) / 2 + 100, -325));\n    },\n\n    /**\n     * 弹出/关闭 窗口\n     * @param {是否弹出} isShow         \n     * @param {抽到的商品列表} shopList    \n     * @param {回调函数，在点击使用的时候回调} callback \n     */\n    onShowView(isShow, shopList, callback) {\n        this.shopList = shopList;\n        this.callback = callback;\n\n        this.node.active = isShow;\n\n        if (isShow) {\n            this.onCreateItem();\n        }\n    },\n\n    /****************************************  本类事件监听  ****************************************/\n    /**\n     * 点击 我知道了 按钮\n     */\n    onMenusBtnClick(event) {\n        this.onShowView(false, this.shopList, this.callback);\n        if (this.callback) {\n            this.callback();\n        }\n    },\n\n});\n"]}