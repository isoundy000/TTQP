{"version":3,"sources":["HomeAcitivityTaskItem.js"],"names":["cc","Class","extends","Component","properties","titleLabel","Label","goldNumLabel","statusLabel","progressLabel","getBtn","Node","onLoad","init","data","idx","callback","string","taskMsg","toString","reward","allProgress","target","currentProgress","process","getComponent","onStatus","parseInt","isRec","onGetBtnClick","event","console","log"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,oBAAYL,GAAGM,KAFP;AAGR;AACAC,sBAAcP,GAAGM,KAJT;AAKR;AACAE,qBAAaR,GAAGM,KANR;AAOR;AACAG,uBAAeT,GAAGM,KARV;AASR;AACAI,gBAAQV,GAAGW;AAVH,KAHP;;AAgBLC,UAhBK,oBAgBK,CAAE,CAhBP;AAkBLC,QAlBK,gBAkBAC,IAlBA,EAkBMC,GAlBN,EAkBWC,QAlBX,EAkBqB;AACtB,aAAKF,IAAL,GAAYA,IAAZ;AACA,aAAKC,GAAL,GAAWA,GAAX;AACA,aAAKC,QAAL,GAAgBA,QAAhB;;AAEA,aAAKX,UAAL,CAAgBY,MAAhB,GAAyBH,KAAKI,OAAL,CAAaC,QAAb,EAAzB;AACA,aAAKZ,YAAL,CAAkBU,MAAlB,GAA2B,QAAQH,KAAKM,MAAL,CAAYD,QAAZ,EAAR,GAAiC,IAA5D;;AAEA,YAAME,cAAcP,KAAKQ,MAAL,CAAYH,QAAZ,EAApB;AACA,YAAMI,kBAAkBT,KAAKU,OAAL,CAAaL,QAAb,EAAxB;AACA,aAAKV,aAAL,CAAmBQ,MAAnB,GAA4B,QAAQM,eAAR,GAA0B,GAA1B,GAAgCF,WAA5D;;AAEA,aAAKX,MAAL,CAAYe,YAAZ,CAAyB,eAAzB,EAA0CC,QAA1C,CAAoDC,SAASN,WAAT,KAAyBM,SAASJ,eAAT,CAAzB,IAAsDI,SAASb,KAAKc,KAAd,KAAwB,CAAlI;AACH,KA/BI;AAiCLC,iBAjCK,yBAiCSC,KAjCT,EAiCgB;AACjB,YAAMT,cAAc,KAAKP,IAAL,CAAUQ,MAAV,CAAiBH,QAAjB,EAApB;AACA,YAAMI,kBAAkB,KAAKT,IAAL,CAAUU,OAAV,CAAkBL,QAAlB,EAAxB;;AAEA,YAAIE,gBAAgBE,eAAhB,IAAmCI,SAAS,KAAKb,IAAL,CAAUc,KAAnB,KAA6B,CAApE,EAAuE;AACnE,gBAAI,KAAKZ,QAAT,EAAmB;AACf,qBAAKA,QAAL,CAAc,KAAKF,IAAnB,EAAyB,KAAKC,GAA9B;AACH;AACJ,SAJD,MAIO;AACHgB,oBAAQC,GAAR,CAAY,cAAZ;AACH;AACJ;AA5CI,CAAT","file":"HomeAcitivityTaskItem.js","sourceRoot":"../../../../../../assets/Script/HomeScript/HomeActivityShowView","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 标题\n        titleLabel: cc.Label,\n        // 奖励金币数量\n        goldNumLabel: cc.Label,\n        // 状态标签  未完成/完成\n        statusLabel: cc.Label,\n        // 进度标签\n        progressLabel: cc.Label,\n        // 领取按钮\n        getBtn: cc.Node,\n    },\n\n    onLoad () {},\n\n    init(data, idx, callback) {\n        this.data = data;\n        this.idx = idx;\n        this.callback = callback;\n\n        this.titleLabel.string = data.taskMsg.toString();\n        this.goldNumLabel.string = \"奖励：\" + data.reward.toString() + \"金币\";\n\n        const allProgress = data.target.toString();\n        const currentProgress = data.process.toString();\n        this.progressLabel.string = \"进度：\" + currentProgress + \"/\" + allProgress;\n\n        this.getBtn.getComponent('HomeSelectBtn').onStatus((parseInt(allProgress) != parseInt(currentProgress) && parseInt(data.isRec) == 0));\n    },\n\n    onGetBtnClick(event) {\n        const allProgress = this.data.target.toString();\n        const currentProgress = this.data.process.toString();\n\n        if (allProgress === currentProgress && parseInt(this.data.isRec) == 0) {\n            if (this.callback) {\n                this.callback(this.data, this.idx);\n            }\n        } else {\n            console.log(\"任务还没有完成，不能领取\");\n        }\n    },\n});\n"]}