{"version":3,"sources":["HomeGuangBoItem.js"],"names":["cc","Class","extends","Component","properties","isStart","xSpeed","intervalX","msgLabel","Node","init","data","getComponent","Label","string","sender","msg","toString","setPosition","p","node","getContentSize","width","onStart","startPosition","position","update","dt","x","contentW","console","log","parent","onNextGuanggao","onRecyclingNode"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS,KADD;AAERC,gBAAQ,CAFA;AAGRC,mBAAW,GAHH;;AAKRC,kBAAUR,GAAGS;AALL,KAHP;;AAWL;;AAEAC,QAbK,gBAaAC,IAbA,EAaM;AACP,aAAKC,YAAL,CAAkBZ,GAAGa,KAArB,EAA4BC,MAA5B,GAAqCH,KAAKI,MAAL,GAAc,GAAnD;AACA,aAAKP,QAAL,CAAcI,YAAd,CAA2BZ,GAAGa,KAA9B,EAAqCC,MAArC,GAA8CH,KAAKK,GAAL,CAASC,QAAT,EAA9C;AACA,aAAKT,QAAL,CAAcU,WAAd,CAA0BlB,GAAGmB,CAAH,CAAK,KAAKC,IAAL,CAAUC,cAAV,GAA2BC,KAAhC,EAAuC,CAAvC,CAA1B;;AAEA,aAAKC,OAAL,CAAa,IAAb;AACH,KAnBI;AAqBLA,WArBK,mBAqBGlB,OArBH,EAqBY;AACb,aAAKA,OAAL,GAAeA,OAAf;AACA,aAAKmB,aAAL,GAAqB,KAAKJ,IAAL,CAAUK,QAA/B;AACH,KAxBI;AA0BLC,UA1BK,kBA0BGC,EA1BH,EA0BO;AACR,YAAI,KAAKtB,OAAT,EAAkB;;AAEd,iBAAKe,IAAL,CAAUF,WAAV,CAAsBlB,GAAGmB,CAAH,CAAK,KAAKC,IAAL,CAAUK,QAAV,CAAmBG,CAAnB,GAAuB,KAAKtB,MAAjC,EAAyC,CAAC,EAA1C,CAAtB;;AAEA,gBAAIuB,WAAW,KAAKT,IAAL,CAAUC,cAAV,GAA2BC,KAA3B,GAAmC,KAAKd,QAAL,CAAca,cAAd,GAA+BC,KAAjF;;AAEA,gBAAM,KAAKE,aAAL,CAAmBI,CAAnB,GAAuB,KAAKR,IAAL,CAAUK,QAAV,CAAmBG,CAA1C,GAA8CC,QAA/C,IAA4D,KAAKtB,SAAjE,IAAgF,KAAKiB,aAAL,CAAmBI,CAAnB,GAAuB,KAAKR,IAAL,CAAUK,QAAV,CAAmBG,CAA1C,GAA8CC,QAA/C,GAA2D,KAAKtB,SAAL,GAAiB,KAAKD,MAArK,EAA+K;AAC3KwB,wBAAQC,GAAR,CAAY,UAAZ;AACA,qBAAKX,IAAL,CAAUY,MAAV,CAAiBpB,YAAjB,CAA8B,iBAA9B,EAAiDqB,cAAjD;AACH;AACD,gBAAI,KAAKb,IAAL,CAAUK,QAAV,CAAmBG,CAAnB,GAAuB,CAACC,QAA5B,EAAsC;AAClCC,wBAAQC,GAAR,CAAY,UAAZ;AACA,qBAAK1B,OAAL,GAAe,KAAf;AACA,qBAAKe,IAAL,CAAUY,MAAV,CAAiBpB,YAAjB,CAA8B,iBAA9B,EAAiDsB,eAAjD,CAAiE,KAAKd,IAAtE;AACH;AACJ;AACJ;AA3CI,CAAT","file":"HomeGuangBoItem.js","sourceRoot":"../../../../../../assets/Script/HomeScript/HomeGunagBoView","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        isStart: false,\n        xSpeed: 3,\n        intervalX: 100,\n\n        msgLabel: cc.Node,\n    },\n\n    // onLoad () {},\n\n    init(data) {\n        this.getComponent(cc.Label).string = data.sender + '：';\n        this.msgLabel.getComponent(cc.Label).string = data.msg.toString();\n        this.msgLabel.setPosition(cc.p(this.node.getContentSize().width, 0));\n\n        this.onStart(true);\n    },\n\n    onStart(isStart) {\n        this.isStart = isStart;\n        this.startPosition = this.node.position;\n    },\n\n    update (dt) {\n        if (this.isStart) {\n            \n            this.node.setPosition(cc.p(this.node.position.x - this.xSpeed, -20));\n\n            let contentW = this.node.getContentSize().width + this.msgLabel.getContentSize().width;\n\n            if (((this.startPosition.x - this.node.position.x - contentW) >= this.intervalX && ((this.startPosition.x - this.node.position.x - contentW) < this.intervalX + this.xSpeed))) {\n                console.log(\"新广播可以出来了\");\n                this.node.parent.getComponent('HomeGuangBoView').onNextGuanggao();\n            }\n            if (this.node.position.x < -contentW) {\n                console.log(\"可以回收回去了！\");\n                this.isStart = false;\n                this.node.parent.getComponent('HomeGuangBoView').onRecyclingNode(this.node);\n            }\n        }\n    },\n\n});\n"]}